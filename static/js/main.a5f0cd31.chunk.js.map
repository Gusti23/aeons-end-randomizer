{"version":3,"sources":["Redux/Store/Settings/Expansions/Selected.ts","mainTheme.ts","config/aeonsData.ts","config/turnOrderSetups.ts","config/index.ts","config/marketSetups.ts","Redux/Store/MainContentLoading/index.ts","Redux/Store/Settings/Expansions/index.ts","Redux/Store/Settings/SupplySetups/index.ts","Redux/Store/Nemesis/index.ts","Redux/Store/Settings/index.ts","Redux/helpers.ts","Redux/Store/Mages/Count/index.ts","Redux/Store/Mages/Recruited/index.ts","Redux/Store/Supply/Selection/index.ts","Redux/Store/Mages/index.ts","Redux/Store/Supply/RandomSetup/index.ts","Redux/Store/Supply/RandomSetup/helpers.ts","Redux/Store/TurnOrder/ActiveGame/index.ts","Redux/Store/Supply/index.ts","Redux/Store/TurnOrder/Configuration/index.ts","Redux/Store/index.ts","Redux/Store/TurnOrder/index.ts","routes.ts","components/pages/Nemeses/NemesisTile/Card.tsx","components/pages/Nemeses/NemesisTile/CardContent.tsx","components/pages/Nemeses/NemesisTile/CardTypeIcon.tsx","components/pages/Nemeses/NemesisTile/ExpansionName.tsx","components/pages/Nemeses/NemesisTile/Name.tsx","components/pages/Nemeses/NemesisTile/index.tsx","components/pages/Nemeses/EmptyNemesisHint.tsx","components/ShuffleButton.tsx","components/NoSelectedExpansions.tsx","components/pages/Nemeses/index.tsx","components/pages/Mages/MageCountPicker.tsx","components/pages/Mages/MageList/MageGridWrapper.tsx","components/pages/Mages/MageTile/Wrapper.tsx","components/pages/Mages/MageTile/Card.tsx","components/pages/Mages/MageTile/CardContent.tsx","components/pages/Mages/MageTile/CardTypeIcon.tsx","components/pages/Mages/MageTile/ExpansionName.tsx","components/pages/Mages/MageTile/Name.tsx","components/pages/Mages/MageTile/index.tsx","components/pages/Mages/MageList/index.tsx","components/pages/Mages/EmptyMageListHint.tsx","components/pages/Mages/index.tsx","hooks/useExpansionHandling.tsx","components/ExpansionPanel/StyledExpansionPanel.tsx","components/ExpansionPanel/StyledExpansionPanelSummary.tsx","components/Heading.tsx","components/ExpansionPanel/index.tsx","components/pages/Supply/ListWrapper.tsx","types.ts","components/pages/Supply/MarketTile/Card.tsx","components/pages/Supply/MarketTile/CardContent.tsx","components/pages/Supply/MarketTile/CardName.tsx","components/pages/Supply/MarketTile/CardTypeIcon.tsx","components/pages/Supply/MarketTile/CardInfoItem.tsx","components/pages/Supply/MarketTile/Info.tsx","components/pages/Supply/MarketTile/InfoLabel.tsx","components/pages/Supply/MarketTile/CostInfo.tsx","components/pages/Supply/MarketTile/CostOperation.tsx","components/pages/Supply/MarketTile/ExpansionInfo.tsx","components/pages/Supply/MarketTile/index.tsx","components/pages/Supply/SupplyList.tsx","components/pages/Supply/MarketOptionsWrapper.tsx","components/SupplyPreview/Wrapper.tsx","components/SupplyPreview/TileList.tsx","components/SupplyPreview/TileListItem.tsx","components/SupplyPreview/SupplyName.tsx","components/SupplyPreview/index.tsx","components/pages/Supply/MarketOptions.tsx","components/pages/Supply/index.tsx","components/CheckboxList/Item.tsx","components/CheckboxList/index.tsx","components/pages/Settings/Expansions/ActiveSets.tsx","components/pages/Settings/Expansions/index.tsx","components/pages/Settings/Supply/SettingsSupplyPreview.tsx","components/pages/Settings/Supply/CheckboxWithPreviewWrapper.tsx","components/pages/Settings/Supply/CheckboxWithPreview.tsx","components/pages/Settings/Supply/CustomSetupEdit/InputField.tsx","components/pages/Settings/Supply/CustomSetupEdit/SelectField.tsx","components/pages/Settings/Supply/CustomSetupEdit/SelectFieldsWrapper.tsx","components/pages/Settings/Supply/CustomSetupEdit/BluePrintWrapper.tsx","components/pages/Settings/Supply/CustomSetupEdit/CancelButton.tsx","components/pages/Settings/Supply/CustomSetupEdit/BluePrint.tsx","components/pages/Settings/Supply/CustomSetupEdit/ListWrapper.tsx","components/pages/Settings/Supply/CustomSetupEdit/BluePrintList.tsx","components/pages/Settings/Supply/CustomSetupEdit/MainControlsWrapper.tsx","components/pages/Settings/Supply/CustomSetupEdit/MainControls.tsx","components/pages/Settings/Supply/CustomSetupEdit/Wrapper.tsx","components/pages/Settings/Supply/CustomSetupEdit/index.tsx","components/pages/Settings/Supply/CheckboxWithPreviewControls.tsx","components/pages/Settings/Supply/CustomSetups.tsx","components/pages/Settings/Supply/PredefinedSetups.tsx","components/pages/Settings/Supply/SetupSelectionWrapper.tsx","components/pages/Settings/Supply/SetupSelection.tsx","components/pages/Settings/Supply/index.tsx","components/pages/Settings/index.tsx","components/pages/TurnOrder/DiscardTable/Cell.tsx","components/pages/TurnOrder/DiscardTable/RowWrapper.tsx","components/pages/TurnOrder/DiscardTable/Row.tsx","components/pages/TurnOrder/DiscardTable/Table.tsx","components/pages/TurnOrder/DiscardTable/index.tsx","components/pages/TurnOrder/ActiveGame.tsx","components/pages/TurnOrder/Card.tsx","components/pages/TurnOrder/CardNameDisplay.tsx","components/pages/TurnOrder/ModeSelection.tsx","components/pages/TurnOrder/PlayerCountSelection.tsx","components/pages/TurnOrder/SetupSelection.tsx","components/pages/TurnOrder/TurnOrderConfiguration.tsx","components/pages/TurnOrder/index.tsx","components/Content/HeaderPlaceholder.tsx","components/Content/Wrapper.tsx","components/Content/index.tsx","components/TopBar/Title.tsx","components/TopBar/AppBar.tsx","components/TopBar/MenuButton/index.tsx","components/TopBar/index.tsx","components/RouteItem.tsx","components/Routes.tsx","components/DrawerMenu/Header.tsx","components/DrawerMenu/AppInfo.tsx","components/DrawerMenu/GitHubLink.tsx","components/DrawerMenu/GitHubLogo.tsx","components/DrawerMenu/Drawer.tsx","components/DrawerMenu/index.tsx","components/App/MainApp.tsx","components/App/Wrapper.tsx","components/App/index.tsx","serviceWorker.js","index.tsx","Redux/configureStore.ts"],"names":["ActionTypes","muiTheme","createMuiTheme","palette","primary","blue","secondary","pink","typography","useNextVariants","playerColors","player1","normal","light","player2","player3","player4","mainTheme","heading","fontSize","pxToRem","spacing","drawerWidth","muiTransitions","appBarShift","transitions","create","easing","easeOut","duration","enteringScreen","content","sharp","leavingScreen","contentShift","colors","text","turnOrderCards","Object","objectSpread","player12","concat","player34","wild","wild-token","nemesis","maelstrom","blitz","cards","gem","color","background","relic","spell","mage","DATA","WE","id","name","type","nemeses","expansion","mages","cost","TV","OD","Nameless","Legacy","Depths","BS","AE","p-1","p-2","p-3","p-4","p-5","TURNORDERCARDS","player1-1","player1-2","player1-3","player1-4","player2-1","player2-2","player3-1","player4-1","player12-1","player12-2","player34-1","player34-2","wildToken","nemesis-1","nemesis-2","TURNORDERSETUPS","onePlayer","variations","default","4toc","twoPlayers","threePlayers","fourPlayers","splitPlayers","config","DEFAULTSUPPLYCOUNT","EXPANSIONS","keys","MARKETSETUPS","market1Inc","active","tiles","operation","threshold","market1","market2","market3","values","market4","market5","market6","random","initialState","reduce","acc","set","defineProperty","actions","toggleAll","createAction","TOGGLE_ALL","toggleExpansion","TOGGLE_EXPANSION","setToDB","state","SET_TO_DB","setToDBSuccessful","SET_TO_DB_SUCCESS","setToDBFailed","error","SET_TO_DB_FAILURE","fetchFromDB","FETCH_FROM_DB","fetchFromDBSuccessful","FETCH_FROM_DB_SUCCESS","fetchFromDBFailed","FETCH_FROM_DB_FAILURE","allSetsAreSelected","every","val","getSelectedExpansionsState","Settings","Expansions","Selected","getSelectedExpansionsArray","createSelector","selectedExpansions","filter","key","selectors","getAllSetsSelected","getHasStandaloneSet","some","getIsLoading","MainContentLoading","Reducer","combineReducers","arguments","length","undefined","action","allSetsSelected","newState","loop","Cmd","run","setToDb","args","successActionCreator","failActionCreator","payload","getFromDb","getExpansionNamesByType","getStandaloneExpansions","sort","getMiniExpansions","getPromos","a","b","promoA","promoB","Predefined","Custom","noOp","toggleSetup","setup","setupType","TOGGLE_SETUP","createCustomSetup","CREATE_CUSTOM_SETUP","shortid","generate","saveCustomSetup","SAVE_CUSTOM_SETUP","cancelEdit","CANCEL_EDIT_SETUP","editCustomSetup","EDIT_CUSTOM_SETUP","deleteCustomSetup","DELETE_CUSTOM_SETUP","getPredefined","SupplySetups","getCustom","getPredefinedAsArray","predefined","getCustomAsArray","custom","getCustomAndPredefined","getAllAsArray","customAndPredefined","getAllExceptDefaultSets","allSets","getActiveSetups","makeGetCustomAndPredefined","_action$payload","isDirty","isNew","toConsumableArray","_state$Custom","rest","objectWithoutProperties","map","_toPropertyKey","_state$Custom2","createSlotList","amount","Array","from","getListOfAvailableEntity","selectedSets","entity","shuffleDeck","deck","availableCards","slots","getEntity","getRandomEntity","slot","i","card","result","availableEntities","Math","floor","getOperationString","join","thresholdValue","setRandomNemesis","expansions","SET_RANDOM","getNemesis","Nemesis","setCount","count","SET","getCount","Mages","Count","Recruited","getMages","setRandomMages","availableMages","createMageList","selectSetup","SELECT_SETUP","getSelectedSetup","Supply","Selection","getRandomCardsByType","tileSetups","cardType","cardSlots","_ref","blueprints","blueprint","filteredByCost","setupBlueprint","indexOf","filterByCost","createCardList","_ref2","Cards","RandomSetup","resetMarket","RESET","createMarket","CREATE","getCards","SupplySelection","_createSupply","gems","relics","spells","createSupply","newStateWithDBWrite","setTurnOrderToDbSuccess","setTurnOrderToDbFailure","discard","started","init","INIT","draw","DRAW","newRound","NEW_ROUND","addToTop","cardId","ADD_TO_TOP","addToBottom","ADD_TO_BOTTOM","shuffleIntoDeck","SHUFFLE_INTO_DECK","SET_TURNORDER_TO_DB_SUCCESS","SET_TURNORDER_TO_DB_FAILURE","startGame","START_GAME","resetGame","RESET_GAME","getDeck","TurnOrder","ActiveGame","getDiscard","getHasStarted","INITIAL_PLAYER_SETUP","Mode","SelectedPlayerCount","SelectedSetup","setMode","mode","SET_MODE","selectPlayerCount","playerCountId","SELECT_PLAYER_COUNT","setupId","getMode","Configuration","getConfiguration","selectedSetup","adjustSetup","getAvailableCards","getSelectedPlayerCount","activeGameActions","cardDrawn","cardToAdd","find","cardToShuffle","newDeck","shuffledDeck","Main","getUserConfiguration","USER_CONFIGURATION_GET","ContentLoading","RootReducer","reduceReducers","list","SelectedExpansions","availableNemeses","ROUTES","Card","styled","MuiCard","withConfig","displayName","componentId","CardContent","MuiCardContent","Icon","props","theme","CardTypeIcon","React","memo","react_default","createElement","className","ExpansionName","Typography","Name","NemesisTile","NemesisTile_Card","NemesisTile_CardContent","NemesisTile_ExpansionName","NemesisTile_Name","variant","component","NemesisTile_CardTypeIcon","EmptyNemesisHint","ShuffleButton","Fab","NoSelectedExpansions","Typography_default","paragraph","mapDispatchToProps","Nemeses","hasStandaloneExpansionSelected","Fragment","Nemeses_NemesisTile","Nemeses_EmptyNemesisHint","components_ShuffleButton","onClick","components_NoSelectedExpansions","connect","MageCountPicker","selectedValue","handleAmountChange","Card_default","CardContent_default","FormControl_default","FormLabel_default","RadioGroup_default","aria-label","value","onChange","row","FormControlLabel_default","control","Radio_default","label","MageGridWrapper","Wrapper","Grid","CardTypeIcon_Icon","MageTile","MageTile_Wrapper","item","xs","md","MageTile_Card","MageTile_CardContent","MageTile_ExpansionName","MageTile_Name","MageTile_CardTypeIcon","MageList","MageList_MageGridWrapper","Grid_default","container","Mages_MageTile","EmptyMageListHint","setMageCount","setMages","mageCount","noMagesGeneratedYet","Mages_MageCountPicker","toString","e","parseInt","currentTarget","Mages_EmptyMageListHint","Mages_MageList","useExpandedHandling","_useState","useState","_useState2","slicedToArray","expanded","setExpanded","createExpansionHandler","panel","event","StyledExpansionPanel","ExpansionPanel","StyledExpansionPanelSummary","ExpansionPanelSummary","Heading","children","expansionHandler","expansionKey","summary","ExpansionPanel_StyledExpansionPanel","ExpansionPanel_StyledExpansionPanelSummary","expandIcon","ExpandMore_default","components_Heading","ExpansionPanelDetails_default","ListWrapper","CARD_TYPES","THRESHOLD_OPERATIONS","SUPPLY_OPERATIONS","isCard","MODES","CardName","MarketTile_CardTypeIcon_Icon","CardInfoItem","ListItem","Info","InfoLabel","CostInfo","MarketTile_CardInfoItem","MarketTile_InfoLabel","MarketTile_Info","CostOperation","ExpansionInfo","MarketTile","tileSetup","assign","MarketTile_Card","toLowerCase","MarketTile_CardContent","MarketTile_CostOperation","MarketTile_CardName","List_default","MarketTile_ExpansionInfo","MarketTile_CostInfo","MarketTile_CardTypeIcon","SupplyList","marketSetup","Supply_ListWrapper","Supply_MarketTile","renderTiles","MarketOptionsWrapper","selected","main","TileList","TileListItem","SupplyName","SupplyPreview","clickHandler","_ref$selected","_ref$showName","showName","SupplyPreview_Wrapper","data-value","SupplyPreview_TileList","tile","index","SupplyPreview_TileListItem","SupplyPreview_SupplyName","MarketOptions","activeMarketSetups","allMarketSetups","Supply_MarketOptionsWrapper","components_SupplyPreview","dataset","_useExpandedHandling","components_ExpansionPanel","Supply_MarketOptions","Supply_SupplyList","DefaultCheckbox","checked","changeHandler","Checkbox_default","Item","_ref2$Component","Component","CheckboxList","items","style","marginTop","FormGroup_default","handleChange","CheckboxList_Item","renderCheckboxes","handleSelectAll","ActiveSets","standalones","miniExpansions","promos","expansionsToItems","marginBottom","components_CheckboxList","_useExpansionHandling","useExpansionHandling","Expansions_ActiveSets","SettingsSupplyPreview","_templateObject","CheckboxWithPreviewWrapper","CheckboxWithPreviewWrapper_templateObject","CheckboxWithPreview","Supply_CheckboxWithPreviewWrapper","Supply_SettingsSupplyPreview","InputField","TextField","InputField_templateObject","MuiFormControl","SelectField_templateObject","Select","MuiSelect","_templateObject2","SelectField","SelectField_Wrapper","SelectField_Select","SelectFieldsWrapper","SelectFieldsWrapper_templateObject","BluePrintWrapper","BluePrintWrapper_templateObject","CancelButton","IconButton_default","Cancel_default","StyledCancelButton","CancelButton_templateObject","renderInputFieldsByOperation","bluePrint","dispatch","types","includes","CustomSetupEdit_InputField","target","margin","valueA","valueB","BluePrint","CustomSetupEdit_BluePrintWrapper","CustomSetupEdit_CancelButton","CustomSetupEdit_SelectFieldsWrapper","CustomSetupEdit_SelectField","inputProps","TYPE","MenuItem_default","OPERATION","ListWrapper_templateObject","BluePrintList","bluePrintList","CustomSetupEdit_ListWrapper","Button_default","CustomSetupEdit_BluePrint","MainControlsWrapper","MainControlsWrapper_templateObject","MainControls","setupName","setSetupName","CustomSetupEdit_MainControlsWrapper","placeholder","Save_default","div","Wrapper_templateObject","initialStateFromTiles","bluePrintReducer","CustomSetupEdit_toPropertyKey","CustomSetupEdit","_useReducer","useReducer","_useReducer2","bluePrints","reverse","CustomSetupEdit_Wrapper","CustomSetupEdit_MainControls","CustomSetupEdit_BluePrintList","CheckboxWithPreviewControls","CheckboxWithPreviewControls_templateObject","createSetup","editSetup","deleteSetup","CustomSetups","customSetups","customItems","Supply_CustomSetupEdit","Supply_CheckboxWithPreview","Supply_CheckboxWithPreviewControls","Edit_default","Delete_default","PredefinedSetups","predefinedSetups","predefinedItems","SetupSelectionWrapper","FormControl","SetupSelectionWrapper_templateObject","SetupSelection","Supply_SetupSelectionWrapper","Supply_CustomSetups","Supply_PredefinedSetups","Supply_SetupSelection","Settings_Expansions","Settings_Supply","Cell","MuiTableCell","RowWrapper","MuiTableRow","turnOrderCardColors","Row","DiscardTable_RowWrapper","DiscardTable_Cell","align","title","icons_index_es","Table","MuiTable","DiscardTable","DiscardTable_Table","TableBody_default","DiscardTable_Row","renderRows","drawCard","ActiveTurnOrder","size","TurnOrder_DiscardTable","CardNameDisplay","turnOrderSetup","TurnOrder_Card","gutterBottom","renderCardNames","ModeSelection","PlayerCountSelection","selectedPlayerCount","playerCount","renderSetupOptions","TurnOrderConfiguration","currentConfiguration","hasMoreThanOneVariant","TurnOrder_PlayerCountSelection","TurnOrder_SetupSelection","TurnOrder_ModeSelection","TurnOrder_CardNameDisplay","gameHasStarted","TurnOrder_TurnOrderConfiguration","HeaderPlaceholder","openDrawerMixin","css","Content_Wrapper_templateObject","unit","drawerIsOpen","isLoading","Content","_ROUTES$nemeses$ROUTE","route","Content_Wrapper","Content_HeaderPlaceholder","CircularProgress_default","pages_Nemeses","pages_Mages","pages_Supply","pages_TurnOrder","pages_Settings","Title","AppBar_templateObject","AppBar","AppBar_default","IconButton","MuiIconButton","MenuButton","MenuButton_Wrapper","MenuButton_IconButton","Menu_default","TopBar","currentLocation","toggleDrawer","TopBar_AppBar","Toolbar_default","disableGutters","TopBar_MenuButton","TopBar_Title","RouteItem","clickhandler","ListItem_default","button","ListItemIcon_default","ListItemText_default","Routes","locationhandler","components_RouteItem","Build_default","width","Header","AppInfo","GithHubLink","Link","GitHubLogo","Drawer","MuiDrawer","withStyles","paper","DrawerMenu","moveTo","DrawerMenu_Drawer","open","onClose","anchor","DrawerMenu_Header","ChevronLeft_default","Divider_default","components_Routes","DrawerMenu_AppInfo","process","GitHubLink","href","DrawerMenu_GitHubLogo","src","alt","MainApp","setCurrentLocation","_useState3","_useState4","setDrawerIsOpen","useEffect","components_TopBar","components_DrawerMenu","components_Content","App","styled_components_browser_esm","styles","App_Wrapper","CssBaseline_default","App_MainApp","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","store","enhancers","applyMiddleware","apply","install","composeEnhancers","compose","enhancedCreateStore","createStore","configureStore","generateClassName","createGenerateClassName","jss","jssPreset","insertionPoint","document","getElementById","ReactDOM","render","es","JssProvider_default","components_App","URL","origin","addEventListener","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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D,GAAI,QAEN,CACEI,UAAW,KACXH,KAAM,MACND,GAAI,OAEN,CACEI,UAAW,KACXH,KAAM,cACND,GAAI,eAEN,CACEI,UAAW,KACXH,KAAM,SACND,GAAI,UAEN,CACEI,UAAW,KACXH,KAAM,UACND,GAAI,WAEN,CACEI,UAAW,KACXH,KAAM,UACND,GAAI,WAEN,CACEI,UAAW,KACXH,KAAM,YACND,GAAI,aAGRT,MAAO,CACL,CACEW,KAAM,MACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,gBACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,YACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,cACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,SACND,GAAI,SACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,uBACND,GAAI,sBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,cACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,mBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,aACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,cACND,GAAI,aACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,aACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,oBACND,GAAI,mBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,SACND,GAAI,SACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,oBACND,GAAI,mBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,cACND,GAAI,aACJM,KAAM,KAIZC,GAAI,CACFP,GAAI,KACJC,KAAM,OACNC,KAAM,OACNC,QAAS,CACP,CACEC,UAAW,KACXH,KAAM,qBACND,GAAI,oBAEN,CACEI,UAAW,KACXH,KAAM,mBACND,GAAI,mBAGRK,MAAO,CACL,CACED,UAAW,KACXH,KAAM,UACND,GAAI,WAEN,CACEI,UAAW,KACXH,KAAM,UACND,GAAI,YAGRT,MAAO,CACL,CACEW,KAAM,MACNE,UAAW,KACXH,KAAM,oBACND,GAAI,mBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,WACND,GAAI,WACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,gBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,aACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,YACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,KAIZE,GAAI,CACFR,GAAI,KACJC,KAAM,aACNC,KAAM,OACNC,QAAS,CACP,CACEC,UAAW,KACXH,KAAM,sBACND,GAAI,qBAEN,CACEI,UAAW,KACXH,KAAM,eACND,GAAI,iBAGRK,MAAO,CACL,CACED,UAAW,KACXH,KAAM,SACND,GAAI,UAEN,CACEI,UAAW,KACXH,KAAM,UACND,GAAI,YAGRT,MAAO,CACL,CACEW,KAAM,QACNE,UAAW,KACXH,KAAM,OACND,GAAI,OACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,SACND,GAAI,SACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,YACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,WACND,GAAI,WACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,aACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,cACND,GAAI,aACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,KAIZG,SAAU,CACRT,GAAI,WACJC,KAAM,WACNC,KAAM,OACNC,QAAS,CACP,CACEC,UAAW,WACXH,KAAM,cACND,GAAI,cAEN,CACEI,UAAW,WACXH,KAAM,cACND,GAAI,eAGRK,MAAO,CACL,CACED,UAAW,WACXH,KAAM,WACND,GAAI,aAGRT,MAAO,CACL,CACEW,KAAM,QACNE,UAAW,WACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,WACXH,KAAM,WACND,GAAI,WACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,WACXH,KAAM,QACND,GAAI,QACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,WACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,WACXH,KAAM,cACND,GAAI,aACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,WACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,WACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,KAIZI,OAAQ,CACNV,GAAI,SACJC,KAAM,SACNC,KAAM,aACNC,QAAS,CACP,CACEC,UAAW,SACXH,KAAM,UACND,GAAI,WAEN,CACEI,UAAW,SACXH,KAAM,YACND,GAAI,aAEN,CACEI,UAAW,SACXH,KAAM,cACND,GAAI,cAEN,CACEI,UAAW,SACXH,KAAM,kBACND,GAAI,kBAEN,CACEI,UAAW,SACXH,KAAM,kBACND,GAAI,kBAEN,CACEI,UAAW,SACXH,KAAM,iBACND,GAAI,kBAGRK,MAAO,CACL,CACED,UAAW,SACXH,KAAM,eACND,GAAI,eAEN,CACEI,UAAW,SACXH,KAAM,gBACND,GAAI,gBAEN,CACEI,UAAW,SACXH,KAAM,gBACND,GAAI,gBAEN,CACEI,UAAW,SACXH,KAAM,cACND,GAAI,eAGRT,MAAO,CACL,CACEW,KAAM,MACNE,UAAW,SACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,cACND,GAAI,aACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,SACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,SACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,WACND,GAAI,WACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,oBACND,GAAI,mBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,SACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,SACXH,KAAM,oBACND,GAAI,mBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,SACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,SACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,aACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,SACXH,KAAM,qBACND,GAAI,oBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,SACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,oBACND,GAAI,mBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,qBACND,GAAI,oBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,SACXH,KAAM,qBACND,GAAI,oBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,oBACND,GAAI,mBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,SACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,YACND,GAAI,WACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,qBACND,GAAI,oBACJM,KAAM,KAIZK,OAAQ,CACNX,GAAI,SACJC,KAAM,SACNC,KAAM,OACNC,QAAS,CACP,CACEC,UAAW,SACXH,KAAM,cACND,GAAI,eAGRK,MAAO,CACL,CACED,UAAW,SACXH,KAAM,MACND,GAAI,OAEN,CACEI,UAAW,SACXH,KAAM,QACND,GAAI,SAEN,CACEI,UAAW,SACXH,KAAM,QACND,GAAI,UAGRT,MAAO,CACL,CACEW,KAAM,QACNE,UAAW,SACXH,KAAM,YACND,GAAI,WACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,aACND,GAAI,aACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,aACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,wBACND,GAAI,uBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,oBACND,GAAI,mBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,SACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,SACXH,KAAM,iBACND,GAAI,iBACJM,KAAM,KAIZM,GAAI,CACFZ,GAAI,KACJC,KAAM,iBACNC,KAAM,OACNC,QAAS,GACTE,MAAO,GACPd,MAAO,CACL,CACEW,KAAM,MACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,YACND,GAAI,WACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,aACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,YACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,qBACND,GAAI,oBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,aACND,GAAI,YACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,kBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,qBACND,GAAI,mBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,KAIZO,GAAI,CACFb,GAAI,KACJC,KAAM,YACNC,KAAM,aACNC,QAAS,CACP,CACEC,UAAW,KACXH,KAAM,iBACND,GAAI,iBAEN,CACEI,UAAW,KACXH,KAAM,eACND,GAAI,eAEN,CACEI,UAAW,KACXH,KAAM,qBACND,GAAI,oBAEN,CACEI,UAAW,KACXH,KAAM,YACND,GAAI,cAGRK,MAAO,CACL,CACED,UAAW,KACXH,KAAM,WACND,GAAI,YAEN,CACEI,UAAW,KACXH,KAAM,QACND,GAAI,SAEN,CACEI,UAAW,KACXH,KAAM,OACND,GAAI,QAEN,CACEI,UAAW,KACXH,KAAM,QACND,GAAI,SAEN,CACEI,UAAW,KACXH,KAAM,OACND,GAAI,QAEN,CACEI,UAAW,KACXH,KAAM,OACND,GAAI,QAEN,CACEI,UAAW,KACXH,KAAM,YACND,GAAI,aAEN,CACEI,UAAW,KACXH,KAAM,QACND,GAAI,UAGRT,MAAO,CACL,CACEW,KAAM,MACNE,UAAW,KACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,YACND,GAAI,WACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,SACND,GAAI,SACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,kBACND,GAAI,iBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,mBACND,GAAI,kBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,iBACND,GAAI,gBACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,eACND,GAAI,cACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,YACND,GAAI,WACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KACXH,KAAM,gBACND,GAAI,eACJM,KAAM,GAER,CACEJ,KAAM,MACNE,UAAW,KACXH,KAAM,OACND,GAAI,OACJM,KAAM,GAER,CACEJ,KAAM,QACNE,UAAW,KA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","file":"static/js/main.a5f0cd31.chunk.js","sourcesContent":["import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer, loop, Cmd } from 'redux-loop'\nimport { createSelector } from 'reselect'\nimport { get as getFromDb, set as setToDb } from 'idb-keyval'\n\nimport config from '../../../../config'\nimport { RootState } from '../../'\n\nconst EXPANSIONS_DB_KEY = 'expansions'\n\n///////////\n// STATE //\n///////////\n\nexport type State = Readonly<{ [key: string]: boolean }>\nexport const initialState: State = config.EXPANSIONS.reduce(\n  (acc, set) => ({ ...acc, [set]: false }),\n  {}\n)\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  TOGGLE_ALL = 'Settings/Expansions/SelectedExpansions/TOGGLE_ALL',\n  TOGGLE_EXPANSION = 'Settings/Expansions/SelectedExpansions/TOGGLE_EXPANSION',\n  SET_TO_DB = 'Settings/Expansions/SelectedExpansions/SET_TO_DB',\n  SET_TO_DB_SUCCESS = 'Settings/Expansions/SelectedExpansions/SET_TO_DB_SUCCESS',\n  SET_TO_DB_FAILURE = 'Settings/Expansions/SelectedExpansions/SET_TO_DB_FAILURE',\n  FETCH_FROM_DB = 'Settings/Expansions/SelectedExpansions/FETCH_FROM_DB',\n  FETCH_FROM_DB_SUCCESS = 'Settings/Expansions/SelectedExpansions/FETCH_FROM_DB_SUCCESS',\n  FETCH_FROM_DB_FAILURE = 'Settings/Expansions/SelectedExpansions/FETCH_FROM_DB_FAILURE',\n}\n\nexport const actions = {\n  toggleAll: () => createAction(ActionTypes.TOGGLE_ALL),\n  toggleExpansion: (expansion: string) =>\n    createAction(ActionTypes.TOGGLE_EXPANSION, expansion),\n  setToDB: (state: State) => createAction(ActionTypes.SET_TO_DB, state),\n  setToDBSuccessful: () => createAction(ActionTypes.SET_TO_DB_SUCCESS),\n  setToDBFailed: (error: Object) =>\n    createAction(ActionTypes.SET_TO_DB_FAILURE, error),\n  fetchFromDB: () => createAction(ActionTypes.FETCH_FROM_DB),\n  fetchFromDBSuccessful: (state: State) =>\n    createAction(ActionTypes.FETCH_FROM_DB_SUCCESS, state),\n  fetchFromDBFailed: (error: Object) =>\n    createAction(ActionTypes.FETCH_FROM_DB_FAILURE, error),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nconst allSetsAreSelected = (state: State) =>\n  Object.values(state).every(val => val === true)\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.TOGGLE_ALL: {\n      const allSetsSelected = allSetsAreSelected(state)\n      const newState = config.EXPANSIONS.reduce(\n        (acc, set) => ({ ...acc, [set]: !allSetsSelected }),\n        {}\n      )\n\n      return loop(\n        newState,\n        Cmd.run<Action>(setToDb, {\n          args: [EXPANSIONS_DB_KEY, newState],\n          successActionCreator: actions.setToDBSuccessful,\n          failActionCreator: actions.setToDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.TOGGLE_EXPANSION: {\n      const newState = { ...state, [action.payload]: !state[action.payload] }\n      return loop(\n        newState,\n        Cmd.run<Action>(setToDb, {\n          args: [EXPANSIONS_DB_KEY, newState],\n          successActionCreator: actions.setToDBSuccessful,\n          failActionCreator: actions.setToDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.FETCH_FROM_DB: {\n      return loop(\n        state,\n        Cmd.run<Action>(getFromDb, {\n          args: [EXPANSIONS_DB_KEY],\n          successActionCreator: actions.fetchFromDBSuccessful,\n          failActionCreator: actions.fetchFromDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.FETCH_FROM_DB_SUCCESS: {\n      return action.payload || initialState\n    }\n\n    case ActionTypes.FETCH_FROM_DB_FAILURE: {\n      return state\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nconst getSelectedExpansionsState = (state: RootState) =>\n  state.Settings.Expansions.Selected\n\nconst getSelectedExpansionsArray = createSelector(\n  [getSelectedExpansionsState],\n  selectedExpansions =>\n    Object.keys(selectedExpansions).filter(key => selectedExpansions[key])\n)\n\nconst getAllSetsSelected = createSelector(\n  [getSelectedExpansionsState],\n  selectedExpansions => allSetsAreSelected(selectedExpansions)\n)\n\nconst getHasStandaloneSet = createSelector(\n  [getSelectedExpansionsArray],\n  selectedExpansions =>\n    selectedExpansions.some(\n      expansion => config.DATA[expansion].type === 'standalone'\n    )\n)\n\nexport const selectors = {\n  getSelectedExpansionsState,\n  getSelectedExpansionsArray,\n  getAllSetsSelected,\n  getHasStandaloneSet,\n}\n","import { createMuiTheme } from '@material-ui/core/styles'\nimport blue from '@material-ui/core/colors/blue'\nimport pink from '@material-ui/core/colors/pink'\n\nexport const muiTheme = createMuiTheme({\n  palette: {\n    primary: blue,\n    secondary: pink,\n  },\n  typography: {\n    useNextVariants: true,\n  },\n})\n\nconst playerColors = {\n  player1: {\n    normal: '#8BC34A',\n    light: '#F1F8E9',\n  },\n  player2: {\n    normal: '#FF9800',\n    light: '#FFF3E0',\n  },\n  player3: {\n    normal: '#2196F3',\n    light: '#E3F2FD',\n  },\n  player4: {\n    normal: '#9C27B0',\n    light: '#F3E5F5',\n  },\n}\n\nexport const mainTheme = {\n  heading: {\n    fontSize: muiTheme.typography.pxToRem(15),\n  },\n  spacing: muiTheme.spacing,\n  drawerWidth: 240,\n  muiTransitions: {\n    appBarShift: muiTheme.transitions.create(['margin', 'width'], {\n      easing: muiTheme.transitions.easing.easeOut,\n      duration: muiTheme.transitions.duration.enteringScreen,\n    }),\n    content: muiTheme.transitions.create('margin', {\n      easing: muiTheme.transitions.easing.sharp,\n      duration: muiTheme.transitions.duration.leavingScreen,\n    }),\n    contentShift: muiTheme.transitions.create('margin', {\n      easing: muiTheme.transitions.easing.easeOut,\n      duration: muiTheme.transitions.duration.enteringScreen,\n    }),\n  },\n  colors: {\n    primary: muiTheme.palette.primary,\n    secondary: muiTheme.palette.secondary,\n    text: muiTheme.palette.text,\n    turnOrderCards: {\n      ...playerColors,\n      player12: {\n        normal: `linear-gradient(135deg, ${playerColors.player1.normal} 0%, ${\n          playerColors.player1.normal\n        } 50%, ${playerColors.player2.normal} 50%, ${\n          playerColors.player2.normal\n        } 100%)`,\n        light: `linear-gradient(135deg, ${playerColors.player1.light} 0%, ${\n          playerColors.player1.light\n        } 50%, ${playerColors.player2.light} 50%, ${\n          playerColors.player2.light\n        } 100%)`,\n      },\n      player34: {\n        normal: `linear-gradient(135deg, ${playerColors.player3.normal} 0%, ${\n          playerColors.player3.normal\n        } 50%, ${playerColors.player4.normal} 50%, ${\n          playerColors.player4.normal\n        } 100%)`,\n        light: `linear-gradient(135deg, ${playerColors.player3.light} 0%, ${\n          playerColors.player3.light\n        } 50%, ${playerColors.player4.light} 50%, ${\n          playerColors.player4.light\n        } 100%)`,\n      },\n      wild: {\n        normal: '#9E9E9E',\n        light: '#FAFAFA',\n      },\n      'wild-token': {\n        normal: `linear-gradient(135deg, ${playerColors.player1.normal} 0%, ${\n          playerColors.player1.normal\n        } 33%, ${playerColors.player2.normal} 33%, ${\n          playerColors.player2.normal\n        } 66%, ${playerColors.player3.normal} 66%, ${\n          playerColors.player3.normal\n        } 100%)`,\n        light: `linear-gradient(135deg, ${playerColors.player1.light} 0%, ${\n          playerColors.player1.light\n        } 33%, ${playerColors.player2.light} 33%, ${\n          playerColors.player2.light\n        } 66%, ${playerColors.player3.light} 66%, ${\n          playerColors.player3.light\n        } 100%)`,\n      },\n      nemesis: {\n        normal: '#f44336',\n        light: '#ffebee',\n      },\n      maelstrom: {\n        normal: '#795548',\n        light: '#EFEBE9',\n      },\n      blitz: {\n        normal: '#607D8B',\n        light: '#ECEFF1',\n      },\n    },\n    cards: {\n      gem: {\n        color: '#B39DDB',\n        background: '#EDE7F6',\n      },\n      relic: {\n        color: '#90CAF9',\n        background: '#E3F2FD',\n      },\n      spell: {\n        color: '#FFCC80',\n        background: '#FFF3E0',\n      },\n      nemesis: {\n        color: '#E0E0E0',\n      },\n      mage: {\n        color: '#E0E0E0',\n      },\n    },\n  },\n}\n\nexport type TurnOrderColors = typeof mainTheme.colors.turnOrderCards\n","import { IExpansionData } from '../types'\n\nexport const DATA: IExpansionData = {\n  WE: {\n    id: 'WE',\n    name: 'War Eternal',\n    type: 'standalone',\n    nemeses: [\n      {\n        expansion: 'WE',\n        name: 'Gate Witch',\n        id: 'GateWitch',\n      },\n      {\n        expansion: 'WE',\n        name: 'Hollow Crown',\n        id: 'HollowCrown',\n      },\n      {\n        expansion: 'WE',\n        name: 'Magus Of Cloaks',\n        id: 'MagusOfCloaks',\n      },\n      {\n        expansion: 'WE',\n        name: 'Umbra Titan',\n        id: 'UmbraTitan',\n      },\n    ],\n    mages: [\n      {\n        expansion: 'WE',\n        name: 'Dezmodia',\n        id: 'Dezmodia',\n      },\n      {\n        expansion: 'WE',\n        name: 'Garu',\n        id: 'Garu',\n      },\n      {\n        expansion: 'WE',\n        name: 'Gex',\n        id: 'Gex',\n      },\n      {\n        expansion: 'WE',\n        name: 'Mazahaedron',\n        id: 'Mazahaedron',\n      },\n      {\n        expansion: 'WE',\n        name: 'MistWE',\n        id: 'MistWE',\n      },\n      {\n        expansion: 'WE',\n        name: 'Quilius',\n        id: 'Quilius',\n      },\n      {\n        expansion: 'WE',\n        name: 'Ulgimor',\n        id: 'Ulgimor',\n      },\n      {\n        expansion: 'WE',\n        name: 'Yan Magda',\n        id: 'YanMagda',\n      },\n    ],\n    cards: [\n      {\n        type: 'Gem',\n        expansion: 'WE',\n        name: 'Erratic Ingot',\n        id: 'ErraticIngot',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Reduce To Ash',\n        id: 'ReduceToAsh',\n        cost: 7,\n      },\n      {\n        type: 'Relic',\n        expansion: 'WE',\n        name: 'Vortex Gauntlet',\n        id: 'VortexGauntlet',\n        cost: 6,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Carbonize',\n        id: 'Carbonize',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Equilibrium',\n        id: 'Equilibrium',\n        cost: 7,\n      },\n      {\n        type: 'Gem',\n        expansion: 'WE',\n        name: 'Volcanic Glass',\n        id: 'VolcanicGlass',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Convection Field',\n        id: 'ConvectionField',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Jagged Lightning',\n        id: 'JaggedLightning',\n        cost: 4,\n      },\n      {\n        type: 'Gem',\n        expansion: 'WE',\n        name: 'Bloodstone Jewel',\n        id: 'BloodstoneJewel',\n        cost: 6,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Kindle',\n        id: 'Kindle',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Thoughtform Familiar',\n        id: 'ThoughtformFamiliar',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Crystallize',\n        id: 'Crystallize',\n        cost: 8,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Fiery Torrent',\n        id: 'FieryTorrent',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Celestial Spire',\n        id: 'CelestialSpire',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Conjure The Lost',\n        id: 'ConjureTheLost',\n        cost: 6,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Nova Forge',\n        id: 'NovaForge',\n        cost: 6,\n      },\n      {\n        type: 'Gem',\n        expansion: 'WE',\n        name: 'Dread Diamond',\n        id: 'DreadDiamond',\n        cost: 3,\n      },\n      {\n        type: 'Relic',\n        expansion: 'WE',\n        name: 'Cairn Compass',\n        id: 'CairnCompass',\n        cost: 4,\n      },\n      {\n        type: 'Gem',\n        expansion: 'WE',\n        name: 'Scoria Slag',\n        id: 'ScoriaSlag',\n        cost: 4,\n      },\n      {\n        type: 'Gem',\n        expansion: 'WE',\n        name: 'Breach Ore',\n        id: 'BreachOre',\n        cost: 4,\n      },\n      {\n        type: 'Relic',\n        expansion: 'WE',\n        name: 'Fiend Catcher',\n        id: 'FiendCatcher',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Pyrotechnic Surge',\n        id: 'PyrotechnicSurge',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'WE',\n        name: 'Aurora',\n        id: 'Aurora',\n        cost: 5,\n      },\n      {\n        type: 'Relic',\n        expansion: 'WE',\n        name: 'Conclave Scroll',\n        id: 'ConclaveScroll',\n        cost: 3,\n      },\n      {\n        type: 'Relic',\n        expansion: 'WE',\n        name: 'Primordial Fetish',\n        id: 'PrimordialFetish',\n        cost: 4,\n      },\n      {\n        type: 'Gem',\n        expansion: 'WE',\n        name: 'Frozen Magmite',\n        id: 'FrozenMagmite',\n        cost: 3,\n      },\n      {\n        type: 'Relic',\n        expansion: 'WE',\n        name: 'Mages Totem',\n        id: 'MagesTotem',\n        cost: 2,\n      },\n    ],\n  },\n  TV: {\n    id: 'TV',\n    name: 'Void',\n    type: 'mini',\n    nemeses: [\n      {\n        expansion: 'TV',\n        name: 'Knight Of Shackles',\n        id: 'KnightOfShackles',\n      },\n      {\n        expansion: 'TV',\n        name: 'Maiden Of Thorns',\n        id: 'MaidenOfThorns',\n      },\n    ],\n    mages: [\n      {\n        expansion: 'TV',\n        name: 'Sparrow',\n        id: 'Sparrow',\n      },\n      {\n        expansion: 'TV',\n        name: 'XaxosTV',\n        id: 'XaxosTV',\n      },\n    ],\n    cards: [\n      {\n        type: 'Gem',\n        expansion: 'TV',\n        name: 'Fossilized Scarab',\n        id: 'FossilizedScarab',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'TV',\n        name: 'Thermal Dart',\n        id: 'ThermalDart',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'TV',\n        name: 'Resonate',\n        id: 'Resonate',\n        cost: 6,\n      },\n      {\n        type: 'Spell',\n        expansion: 'TV',\n        name: 'Conflagration',\n        id: 'Conflagration',\n        cost: 3,\n      },\n      {\n        type: 'Relic',\n        expansion: 'TV',\n        name: 'Dimensional Key',\n        id: 'DimensionalKey',\n        cost: 8,\n      },\n      {\n        type: 'Spell',\n        expansion: 'TV',\n        name: 'Inner Fire',\n        id: 'InnerFire',\n        cost: 2,\n      },\n      {\n        type: 'Spell',\n        expansion: 'TV',\n        name: 'Fulminate',\n        id: 'Fulminate',\n        cost: 5,\n      },\n      {\n        type: 'Relic',\n        expansion: 'TV',\n        name: 'Eternity Charm',\n        id: 'EternityCharm',\n        cost: 3,\n      },\n    ],\n  },\n  OD: {\n    id: 'OD',\n    name: 'Outer Dark',\n    type: 'mini',\n    nemeses: [\n      {\n        expansion: 'OD',\n        name: 'Thrice Dead Prophet',\n        id: 'ThriceDeadProphet',\n      },\n      {\n        expansion: 'OD',\n        name: 'Wraithmonger',\n        id: 'Wraithmonger',\n      },\n    ],\n    mages: [\n      {\n        expansion: 'OD',\n        name: 'Indira',\n        id: 'Indira',\n      },\n      {\n        expansion: 'OD',\n        name: 'Remnant',\n        id: 'Remnant',\n      },\n    ],\n    cards: [\n      {\n        type: 'Spell',\n        expansion: 'OD',\n        name: 'Char',\n        id: 'Char',\n        cost: 8,\n      },\n      {\n        type: 'Gem',\n        expansion: 'OD',\n        name: 'Alien Element',\n        id: 'AlienElement',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'OD',\n        name: 'Scorch',\n        id: 'Scorch',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'OD',\n        name: 'Pyromancy',\n        id: 'Pyromancy',\n        cost: 7,\n      },\n      {\n        type: 'Spell',\n        expansion: 'OD',\n        name: 'Feedback Aura',\n        id: 'FeedbackAura',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'OD',\n        name: 'Catalyst',\n        id: 'Catalyst',\n        cost: 6,\n      },\n      {\n        type: 'Gem',\n        expansion: 'OD',\n        name: 'Pain Stone',\n        id: 'PainStone',\n        cost: 6,\n      },\n      {\n        type: 'Relic',\n        expansion: 'OD',\n        name: 'Astral Cube',\n        id: 'AstralCube',\n        cost: 5,\n      },\n      {\n        type: 'Relic',\n        expansion: 'OD',\n        name: 'Riddle Sphere',\n        id: 'RiddleSphere',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'OD',\n        name: 'Nether Conduit',\n        id: 'NetherConduit',\n        cost: 7,\n      },\n      {\n        type: 'Gem',\n        expansion: 'OD',\n        name: 'Haunted Berylite',\n        id: 'HauntedBerylite',\n        cost: 3,\n      },\n    ],\n  },\n  Nameless: {\n    id: 'Nameless',\n    name: 'Nameless',\n    type: 'mini',\n    nemeses: [\n      {\n        expansion: 'Nameless',\n        name: 'Blight Lord',\n        id: 'BlightLord',\n      },\n      {\n        expansion: 'Nameless',\n        name: 'Wayward One',\n        id: 'WaywardOne',\n      },\n    ],\n    mages: [\n      {\n        expansion: 'Nameless',\n        name: 'Malastar',\n        id: 'Malastar',\n      },\n    ],\n    cards: [\n      {\n        type: 'Relic',\n        expansion: 'Nameless',\n        name: 'Molten Hammer',\n        id: 'MoltenHammer',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Nameless',\n        name: 'Radiance',\n        id: 'Radiance',\n        cost: 8,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Nameless',\n        name: 'Blaze',\n        id: 'Blaze',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Nameless',\n        name: 'Scrying Bolt',\n        id: 'ScryingBolt',\n        cost: 6,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Nameless',\n        name: 'Sages Brand',\n        id: 'SagesBrand',\n        cost: 7,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Nameless',\n        name: 'Leeching Agate',\n        id: 'LeechingAgate',\n        cost: 3,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Nameless',\n        name: 'Temporal Helix',\n        id: 'TemporalHelix',\n        cost: 7,\n      },\n    ],\n  },\n  Legacy: {\n    id: 'Legacy',\n    name: 'Legacy',\n    type: 'standalone',\n    nemeses: [\n      {\n        expansion: 'Legacy',\n        name: 'Bladius',\n        id: 'Bladius',\n      },\n      {\n        expansion: 'Legacy',\n        name: 'Deathmind',\n        id: 'Deathmind',\n      },\n      {\n        expansion: 'Legacy',\n        name: 'Fungal Mesh',\n        id: 'FungalMesh',\n      },\n      {\n        expansion: 'Legacy',\n        name: 'Maelstrom Risen',\n        id: 'MaelstromRisen',\n      },\n      {\n        expansion: 'Legacy',\n        name: 'Spawning Horror',\n        id: 'SpawningHorror',\n      },\n      {\n        expansion: 'Legacy',\n        name: 'Xaxos Ascended',\n        id: 'XaxosAscended',\n      },\n    ],\n    mages: [\n      {\n        expansion: 'Legacy',\n        name: 'Legacy Green',\n        id: 'LegacyGreen',\n      },\n      {\n        expansion: 'Legacy',\n        name: 'Legacy Yellow',\n        id: 'LegacyYellow',\n      },\n      {\n        expansion: 'Legacy',\n        name: 'Legacy Orange',\n        id: 'LegacyOrange',\n      },\n      {\n        expansion: 'Legacy',\n        name: 'Legacy Blue',\n        id: 'LegacyBlue',\n      },\n    ],\n    cards: [\n      {\n        type: 'Gem',\n        expansion: 'Legacy',\n        name: 'Branching Radite',\n        id: 'BranchingRadite',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Fire Chakram',\n        id: 'FireChakram',\n        cost: 2,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Legacy',\n        name: 'Brane Knife',\n        id: 'BraneKnife',\n        cost: 3,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Legacy',\n        name: 'Fulmite Slab',\n        id: 'FulmiteSlab',\n        cost: 6,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Legacy',\n        name: 'Gilded Marble',\n        id: 'GildedMarble',\n        cost: 6,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Legacy',\n        name: 'Voltaic Relay',\n        id: 'VoltaicRelay',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Sparking Siphon',\n        id: 'SparkingSiphon',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Breach Communion',\n        id: 'BreachCommunion',\n        cost: 4,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Legacy',\n        name: 'Infernal Mirror',\n        id: 'InfernalMirror',\n        cost: 5,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Legacy',\n        name: 'Geophage',\n        id: 'Geophage',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Force Transfusion',\n        id: 'ForceTransfusion',\n        cost: 4,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Legacy',\n        name: 'Conductive Grit',\n        id: 'ConductiveGrit',\n        cost: 3,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Legacy',\n        name: 'Ancient Cyanolith',\n        id: 'AncientCyanolith',\n        cost: 3,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Legacy',\n        name: 'Ethereal Hand',\n        id: 'EtherealHand',\n        cost: 6,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Bending Beam',\n        id: 'BendingBeam',\n        cost: 5,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Legacy',\n        name: 'Entangled Shard',\n        id: 'EntangledShard',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Arcane Salvo',\n        id: 'ArcaneSalvo',\n        cost: 5,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Legacy',\n        name: 'Phased Portalite',\n        id: 'PhasedPortalite',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Pyro Geist',\n        id: 'PyroGeist',\n        cost: 6,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Breach Flare',\n        id: 'BreachFlare',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Thunderous Oath',\n        id: 'ThunderousOath',\n        cost: 8,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Legacy',\n        name: 'Soothing Torporene',\n        id: 'SoothingTorporene',\n        cost: 3,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Legacy',\n        name: 'Arcing Silicate',\n        id: 'ArcingSilicate',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Warping Haze',\n        id: 'WarpingHaze',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Incinerating Fist',\n        id: 'IncineratingFist',\n        cost: 4,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Legacy',\n        name: 'Reality Stabilizer',\n        id: 'RealityStabilizer',\n        cost: 6,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Breach Collision',\n        id: 'BreachCollision',\n        cost: 7,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Fiery Conclusion',\n        id: 'FieryConclusion',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Starfire Frenzy',\n        id: 'StarfireFrenzy',\n        cost: 6,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Legacy',\n        name: 'Crumbling Compound',\n        id: 'CrumblingCompound',\n        cost: 5,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Legacy',\n        name: 'Prophetic Lens',\n        id: 'PropheticLens',\n        cost: 4,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Legacy',\n        name: 'Adrenal Batteries',\n        id: 'AdrenalBatteries',\n        cost: 7,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Legacy',\n        name: 'Refined Lumenium',\n        id: 'RefinedLumenium',\n        cost: 5,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Legacy',\n        name: 'Void Mill',\n        id: 'VoidMill',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Gravity Node',\n        id: 'GravityNode',\n        cost: 5,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Legacy',\n        name: 'Neural Wreath',\n        id: 'NeuralWreath',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Legacy',\n        name: 'Sphere OfInversion',\n        id: 'SphereOfInversion',\n        cost: 9,\n      },\n    ],\n  },\n  Depths: {\n    id: 'Depths',\n    name: 'Depths',\n    type: 'mini',\n    nemeses: [\n      {\n        expansion: 'Depths',\n        name: 'Horde Crone',\n        id: 'HordeCrone',\n      },\n    ],\n    mages: [\n      {\n        expansion: 'Depths',\n        name: 'Nym',\n        id: 'Nym',\n      },\n      {\n        expansion: 'Depths',\n        name: 'Reeve',\n        id: 'Reeve',\n      },\n      {\n        expansion: 'Depths',\n        name: 'Zhana',\n        id: 'Zhana',\n      },\n    ],\n    cards: [\n      {\n        type: 'Spell',\n        expansion: 'Depths',\n        name: 'Void Bond',\n        id: 'VoidBond',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Depths',\n        name: 'Combustion',\n        id: 'Combustion',\n        cost: 5,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Depths',\n        name: 'Vim Dynamo',\n        id: 'VimDynamo',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Depths',\n        name: 'Disintegrating Scythe',\n        id: 'DisintegratingScythe',\n        cost: 7,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Depths',\n        name: 'Monstrous Inferno',\n        id: 'MonstrousInferno',\n        cost: 8,\n      },\n      {\n        type: 'Spell',\n        expansion: 'Depths',\n        name: 'Devouring Shadow',\n        id: 'DevouringShadow',\n        cost: 6,\n      },\n      {\n        type: 'Gem',\n        expansion: 'Depths',\n        name: 'Banishing Topaz',\n        id: 'BanishingTopaz',\n        cost: 5,\n      },\n      {\n        type: 'Relic',\n        expansion: 'Depths',\n        name: 'Transmogrifier',\n        id: 'Transmogrifier',\n        cost: 4,\n      },\n    ],\n  },\n  BS: {\n    id: 'BS',\n    name: 'Buried Secrets',\n    type: 'mini',\n    nemeses: [],\n    mages: [],\n    cards: [\n      {\n        type: 'Gem',\n        expansion: 'BS',\n        name: 'Triplite Core',\n        id: 'TripliteCore',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'BS',\n        name: 'Nerve Jab',\n        id: 'NerveJab',\n        cost: 2,\n      },\n      {\n        type: 'Spell',\n        expansion: 'BS',\n        name: 'Double Tap',\n        id: 'DoubleTap',\n        cost: 3,\n      },\n      {\n        type: 'Gem',\n        expansion: 'BS',\n        name: 'Oblivium Resin',\n        id: 'ObliviumResin',\n        cost: 5,\n      },\n      {\n        type: 'Gem',\n        expansion: 'BS',\n        name: 'Summonite',\n        id: 'Summonite',\n        cost: 3,\n      },\n      {\n        type: 'Relic',\n        expansion: 'BS',\n        name: 'Manifold Container',\n        id: 'ManifoldContainer',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'BS',\n        name: 'Draining Touch',\n        id: 'DrainingTouch',\n        cost: 2,\n      },\n      {\n        type: 'Gem',\n        expansion: 'BS',\n        name: 'Jolting Crust',\n        id: 'JoltingCrust',\n        cost: 3,\n      },\n      {\n        type: 'Gem',\n        expansion: 'BS',\n        name: 'Mentite Chunk',\n        id: 'MentiteChunk',\n        cost: 5,\n      },\n      {\n        type: 'Relic',\n        expansion: 'BS',\n        name: 'Soul Cords',\n        id: 'SoulCords',\n        cost: 5,\n      },\n      {\n        type: 'Gem',\n        expansion: 'BS',\n        name: 'Voidium Spike',\n        id: 'VoidiumSpike',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'BS',\n        name: 'Precision Shot',\n        id: 'PrecisionShot',\n        cost: 3,\n      },\n      {\n        type: 'Gem',\n        expansion: 'BS',\n        name: 'Muted Lacosite',\n        id: 'MutedLacosite',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'BS',\n        name: 'Blade Of Wisdom',\n        id: 'BladeOfWisdom',\n        cost: 6,\n      },\n      {\n        type: 'Spell',\n        expansion: 'BS',\n        name: 'Stunning Force',\n        id: 'StunningForce',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'BS',\n        name: 'Flash Of Intellect',\n        id: 'FlashOfIntellect',\n        cost: 4,\n      },\n      {\n        type: 'Relic',\n        expansion: 'BS',\n        name: 'Scholars Opus',\n        id: 'ScholarsOpus',\n        cost: 3,\n      },\n      {\n        type: 'Relic',\n        expansion: 'BS',\n        name: 'Bottled Star',\n        id: 'BottledStar',\n        cost: 7,\n      },\n      {\n        type: 'Spell',\n        expansion: 'BS',\n        name: 'Burning Current',\n        id: 'BurningCurrent',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'BS',\n        name: 'Psychic Eruption',\n        id: 'PsychicEruption',\n        cost: 8,\n      },\n      {\n        type: 'Relic',\n        expansion: 'BS',\n        name: 'Living Gauntlet',\n        id: 'LivingGauntlet',\n        cost: 4,\n      },\n      {\n        type: 'Gem',\n        expansion: 'BS',\n        name: 'Shining Tetrite',\n        id: 'ShiningTetrite',\n        cost: 6,\n      },\n    ],\n  },\n  AE: {\n    id: 'AE',\n    name: 'Aeons End',\n    type: 'standalone',\n    nemeses: [\n      {\n        expansion: 'AE',\n        name: 'Carapace Queen',\n        id: 'CarapaceQueen',\n      },\n      {\n        expansion: 'AE',\n        name: 'Crooked Mask',\n        id: 'CrookedMask',\n      },\n      {\n        expansion: 'AE',\n        name: 'Prince Of Gluttons',\n        id: 'PrinceOfGluttons',\n      },\n      {\n        expansion: 'AE',\n        name: 'Rageborne',\n        id: 'RageBorne',\n      },\n    ],\n    mages: [\n      {\n        expansion: 'AE',\n        name: 'Adelheim',\n        id: 'Adelheim',\n      },\n      {\n        expansion: 'AE',\n        name: 'Brama',\n        id: 'Brama',\n      },\n      {\n        expansion: 'AE',\n        name: 'Jian',\n        id: 'Jian',\n      },\n      {\n        expansion: 'AE',\n        name: 'Kadir',\n        id: 'Kadir',\n      },\n      {\n        expansion: 'AE',\n        name: 'Lash',\n        id: 'Lash',\n      },\n      {\n        expansion: 'AE',\n        name: 'Mist',\n        id: 'Mist',\n      },\n      {\n        expansion: 'AE',\n        name: 'Phaedraxa',\n        id: 'Phaedraxa',\n      },\n      {\n        expansion: 'AE',\n        name: 'Xaxos',\n        id: 'Xaxos',\n      },\n    ],\n    cards: [\n      {\n        type: 'Gem',\n        expansion: 'AE',\n        name: 'Diamond Cluster',\n        id: 'DiamondCluster',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Chaos Arc',\n        id: 'ChaosArc',\n        cost: 6,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Ignite',\n        id: 'Ignite',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Essence Theft',\n        id: 'EssenceTheft',\n        cost: 5,\n      },\n      {\n        type: 'Gem',\n        expansion: 'AE',\n        name: 'Searing Ruby',\n        id: 'SearingRuby',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Feral Lightning',\n        id: 'FeralLightning',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Planar Insight',\n        id: 'PlanarInsight',\n        cost: 6,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Spectral Echo',\n        id: 'SpectralEcho',\n        cost: 3,\n      },\n      {\n        type: 'Gem',\n        expansion: 'AE',\n        name: 'Burning Opal',\n        id: 'BurningOpal',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Consuming Void',\n        id: 'ConsumingVoid',\n        cost: 7,\n      },\n      {\n        type: 'Relic',\n        expansion: 'AE',\n        name: 'Unstable Prism',\n        id: 'UnstablePrism',\n        cost: 3,\n      },\n      {\n        type: 'Gem',\n        expansion: 'AE',\n        name: 'Clouded Sapphire',\n        id: 'CloudedSapphire',\n        cost: 6,\n      },\n      {\n        type: 'Relic',\n        expansion: 'AE',\n        name: 'Mages Talisman',\n        id: 'MagesTalisman',\n        cost: 5,\n      },\n      {\n        type: 'Relic',\n        expansion: 'AE',\n        name: 'Flexing Dagger',\n        id: 'FlexingDagger',\n        cost: 2,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Lava Tendril',\n        id: 'LavaTendril',\n        cost: 4,\n      },\n      {\n        type: 'Relic',\n        expansion: 'AE',\n        name: 'Bottled Vortex',\n        id: 'BottledVortex',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Arcane Nexus',\n        id: 'ArcaneNexus',\n        cost: 7,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Dark Fire',\n        id: 'DarkFire',\n        cost: 5,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Phoenix Flame',\n        id: 'PhoenixFlame',\n        cost: 3,\n      },\n      {\n        type: 'Gem',\n        expansion: 'AE',\n        name: 'Jade',\n        id: 'Jade',\n        cost: 2,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Amplify Vision',\n        id: 'AmplifyVision',\n        cost: 4,\n      },\n      {\n        type: 'Gem',\n        expansion: 'AE',\n        name: 'Vriswood Amber',\n        id: 'VriswoodAmber',\n        cost: 3,\n      },\n      {\n        type: 'Relic',\n        expansion: 'AE',\n        name: 'Blasting Staff',\n        id: 'BlastingStaff',\n        cost: 4,\n      },\n      {\n        type: 'Gem',\n        expansion: 'AE',\n        name: 'Sifters Pearl',\n        id: 'SiftersPearl',\n        cost: 3,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Wildfire Whip',\n        id: 'WildfireWhip',\n        cost: 6,\n      },\n      {\n        type: 'Relic',\n        expansion: 'AE',\n        name: 'Focusing Orb',\n        id: 'FocusingOrb',\n        cost: 4,\n      },\n      {\n        type: 'Spell',\n        expansion: 'AE',\n        name: 'Oblivion Swell',\n        id: 'OblivionSwell',\n        cost: 5,\n      },\n    ],\n  },\n  'p-1': {\n    id: 'p-1',\n    name: 'Drown in Flames',\n    type: 'promo',\n    mages: [],\n    nemeses: [],\n    cards: [\n      {\n        type: 'Spell',\n        expansion: 'p-1',\n        name: 'Drown in Flames',\n        id: 'DrownInFlames',\n        cost: 6,\n      },\n    ],\n  },\n  'p-2': {\n    id: 'p-2',\n    name: 'Fleeting Vision',\n    type: 'promo',\n    mages: [],\n    nemeses: [],\n    cards: [\n      {\n        type: 'Spell',\n        expansion: 'p-2',\n        name: 'Fleeting Vision',\n        id: 'FleetingVision',\n        cost: 3,\n      },\n    ],\n  },\n  'p-3': {\n    id: 'p-3',\n    name: 'Splinter Missile',\n    type: 'promo',\n    mages: [],\n    nemeses: [],\n    cards: [\n      {\n        type: 'Spell',\n        expansion: 'p-3',\n        name: 'Splinter Missile',\n        id: 'SplinterMissile',\n        cost: 5,\n      },\n    ],\n  },\n  'p-4': {\n    id: 'p-4',\n    name: 'Echo Stone',\n    type: 'promo',\n    mages: [],\n    nemeses: [],\n    cards: [\n      {\n        type: 'Gem',\n        expansion: 'p-4',\n        name: 'Echo Stone',\n        id: 'EchoStone',\n        cost: 4,\n      },\n    ],\n  },\n  'p-5': {\n    id: 'p-5',\n    name: 'Thieving Spirit',\n    type: 'promo',\n    mages: [],\n    nemeses: [],\n    cards: [\n      {\n        type: 'Spell',\n        expansion: 'p-5',\n        name: 'Thieving Spirit',\n        id: 'ThievingSpirit',\n        cost: 5,\n      },\n    ],\n  },\n}\n","import { ITurnOrderSetups, ITurnOrderCard } from '../types'\n\nexport const TURNORDERCARDS: { [key: string]: ITurnOrderCard } = {\n  'player1-1': { id: 'player1-1', name: 'Player 1', type: 'player1' },\n  'player1-2': { id: 'player1-2', name: 'Player 1', type: 'player1' },\n  'player1-3': { id: 'player1-3', name: 'Player 1', type: 'player1' },\n  'player1-4': { id: 'player1-4', name: 'Player 1', type: 'player1' },\n\n  'player2-1': { id: 'player2-1', name: 'Player 2', type: 'player2' },\n  'player2-2': { id: 'player2-2', name: 'Player 2', type: 'player2' },\n\n  'player3-1': { id: 'player3-1', name: 'Player 3', type: 'player3' },\n  'player4-1': { id: 'player4-1', name: 'Player 4', type: 'player4' },\n\n  'player12-1': { id: 'player12-1', name: 'Player 1/2', type: 'player12' },\n  'player12-2': { id: 'player12-2', name: 'Player 1/2', type: 'player12' },\n  'player34-1': { id: 'player34-1', name: 'Player 3/4', type: 'player34' },\n  'player34-2': { id: 'player34-2', name: 'Player 3/4', type: 'player34' },\n\n  wild: { id: 'wild', name: 'Wild', type: 'wild' },\n  wildToken: { id: 'wildToken', name: 'Wild Token', type: 'wild-token' },\n\n  'nemesis-1': { id: 'nemesis-1', name: 'Nemesis', type: 'nemesis' },\n  'nemesis-2': { id: 'nemesis-2', name: 'Nemesis', type: 'nemesis' },\n\n  maelstrom: {\n    id: 'maelstrom',\n    name: 'Maelstrom Assault',\n    type: 'maelstrom',\n  },\n\n  blitz: {\n    id: 'blitz',\n    name: 'Blitz',\n    type: 'blitz',\n  },\n}\n\nexport const TURNORDERSETUPS: ITurnOrderSetups = {\n  onePlayer: {\n    id: 'onePlayer',\n    name: '1',\n    variations: {\n      default: {\n        id: 'default',\n        name: 'Default (3 ToC)',\n        turnOrderCards: [\n          TURNORDERCARDS['player1-1'],\n          TURNORDERCARDS['player1-2'],\n          TURNORDERCARDS['player1-3'],\n          TURNORDERCARDS['nemesis-1'],\n          TURNORDERCARDS['nemesis-2'],\n        ],\n      },\n      '4toc': {\n        id: '4toc',\n        name: '4 ToC',\n        turnOrderCards: [\n          TURNORDERCARDS['player1-1'],\n          TURNORDERCARDS['player1-2'],\n          TURNORDERCARDS['player1-3'],\n          TURNORDERCARDS['player1-4'],\n          TURNORDERCARDS['nemesis-1'],\n          TURNORDERCARDS['nemesis-2'],\n        ],\n      },\n    },\n  },\n  twoPlayers: {\n    id: 'twoPlayers',\n    name: '2',\n    variations: {\n      default: {\n        id: 'default',\n        name: 'Default',\n        turnOrderCards: [\n          TURNORDERCARDS['player1-1'],\n          TURNORDERCARDS['player1-2'],\n          TURNORDERCARDS['player2-1'],\n          TURNORDERCARDS['player2-2'],\n          TURNORDERCARDS['nemesis-1'],\n          TURNORDERCARDS['nemesis-2'],\n        ],\n      },\n    },\n  },\n  threePlayers: {\n    id: 'threePlayers',\n    name: '3',\n    variations: {\n      default: {\n        id: 'default',\n        name: 'Default',\n        turnOrderCards: [\n          TURNORDERCARDS['player1-1'],\n          TURNORDERCARDS['player2-1'],\n          TURNORDERCARDS['player3-1'],\n          TURNORDERCARDS['wild'],\n          TURNORDERCARDS['nemesis-1'],\n          TURNORDERCARDS['nemesis-2'],\n        ],\n      },\n      wildToken: {\n        id: 'wildToken',\n        name: 'Wild Token',\n        turnOrderCards: [\n          TURNORDERCARDS['player1-1'],\n          TURNORDERCARDS['player2-1'],\n          TURNORDERCARDS['player3-1'],\n          TURNORDERCARDS['wildToken'],\n          TURNORDERCARDS['nemesis-1'],\n          TURNORDERCARDS['nemesis-2'],\n        ],\n      },\n    },\n  },\n  fourPlayers: {\n    id: 'fourPlayers',\n    name: '4',\n    variations: {\n      default: {\n        id: 'default',\n        name: 'Default',\n        turnOrderCards: [\n          TURNORDERCARDS['player1-1'],\n          TURNORDERCARDS['player2-1'],\n          TURNORDERCARDS['player3-1'],\n          TURNORDERCARDS['player4-1'],\n          TURNORDERCARDS['nemesis-1'],\n          TURNORDERCARDS['nemesis-2'],\n        ],\n      },\n      splitPlayers: {\n        id: 'splitPlayers',\n        name: 'Split Player Cards (1/2, 3/4)',\n        turnOrderCards: [\n          TURNORDERCARDS['player12-1'],\n          TURNORDERCARDS['player12-2'],\n          TURNORDERCARDS['player34-1'],\n          TURNORDERCARDS['player34-2'],\n          TURNORDERCARDS['nemesis-1'],\n          TURNORDERCARDS['nemesis-2'],\n        ],\n      },\n    },\n  },\n}\n","import { DATA } from './aeonsData'\nimport { MARKETSETUPS } from './marketSetups'\nimport { TURNORDERSETUPS, TURNORDERCARDS } from './turnOrderSetups'\n\nconst EXPANSIONS = Object.keys(DATA)\nconst DEFAULTSUPPLYCOUNT = 9\n\nexport default {\n  DATA,\n  DEFAULTSUPPLYCOUNT,\n  EXPANSIONS,\n  MARKETSETUPS,\n  TURNORDERSETUPS,\n  TURNORDERCARDS,\n}\n","import { IMarketSetups } from '../types'\n\nexport const MARKETSETUPS: IMarketSetups = {\n  market1Inc: {\n    id: 'market1Inc',\n    name: 'Market Setup 1 (inclusive)',\n    type: 'custom',\n    active: true,\n    tiles: [\n      { type: 'Gem', operation: '<', threshold: 4 },\n      { type: 'Gem', operation: '=', threshold: 4 },\n      { type: 'Gem', operation: 'ANY' },\n      { type: 'Relic', operation: 'ANY' },\n      { type: 'Relic', operation: 'ANY' },\n      { type: 'Spell', operation: '<=', threshold: 5 },\n      { type: 'Spell', operation: '<=', threshold: 5 },\n      { type: 'Spell', operation: '>=', threshold: 5 },\n      { type: 'Spell', operation: '>=', threshold: 5 },\n    ],\n  },\n  market1: {\n    id: 'market1',\n    name: 'Market Setup 1',\n    type: 'official',\n    active: true,\n    tiles: [\n      { type: 'Gem', operation: '<', threshold: 4 },\n      { type: 'Gem', operation: '=', threshold: 4 },\n      { type: 'Gem', operation: 'ANY' },\n      { type: 'Relic', operation: 'ANY' },\n      { type: 'Relic', operation: 'ANY' },\n      { type: 'Spell', operation: '<', threshold: 5 },\n      { type: 'Spell', operation: '<', threshold: 5 },\n      { type: 'Spell', operation: '>', threshold: 5 },\n      { type: 'Spell', operation: '>', threshold: 5 },\n    ],\n  },\n  market2: {\n    id: 'market2',\n    name: 'Market Setup 2',\n    type: 'official',\n    active: true,\n    tiles: [\n      { type: 'Gem', operation: '<', threshold: 3 },\n      { type: 'Gem', operation: '>', threshold: 3 },\n      { type: 'Gem', operation: '>', threshold: 3 },\n      { type: 'Relic', operation: '>', threshold: 4 },\n      { type: 'Relic', operation: 'ANY' },\n      { type: 'Spell', operation: '<', threshold: 6 },\n      { type: 'Spell', operation: '<', threshold: 6 },\n      { type: 'Spell', operation: '<', threshold: 6 },\n      { type: 'Spell', operation: '>', threshold: 6 },\n    ],\n  },\n  market3: {\n    id: 'market3',\n    name: 'Market Setup 3',\n    type: 'official',\n    active: true,\n    tiles: [\n      { type: 'Gem', operation: '<', threshold: 4 },\n      { type: 'Gem', operation: 'OR', values: [4, 5] },\n      { type: 'Gem', operation: 'OR', values: [4, 5] },\n      { type: 'Relic', operation: 'ANY' },\n      { type: 'Spell', operation: '=', threshold: 3 },\n      { type: 'Spell', operation: '=', threshold: 4 },\n      { type: 'Spell', operation: '>', threshold: 5 },\n      { type: 'Spell', operation: '>', threshold: 5 },\n      { type: 'Spell', operation: '>', threshold: 5 },\n    ],\n  },\n  market4: {\n    id: 'market4',\n    name: 'Market Setup 4',\n    type: 'official',\n    active: true,\n    tiles: [\n      { type: 'Gem', operation: '>', threshold: 4 },\n      { type: 'Gem', operation: 'ANY' },\n      { type: 'Gem', operation: 'ANY' },\n      { type: 'Relic', operation: '<', threshold: 4 },\n      { type: 'Relic', operation: '>', threshold: 4 },\n      { type: 'Relic', operation: 'ANY' },\n      { type: 'Spell', operation: '<', threshold: 5 },\n      { type: 'Spell', operation: '>', threshold: 5 },\n      { type: 'Spell', operation: 'ANY' },\n    ],\n  },\n  market5: {\n    id: 'market5',\n    name: 'Market Setup 5',\n    type: 'official',\n    active: true,\n    tiles: [\n      { type: 'Gem', operation: '=', threshold: 2 },\n      { type: 'Gem', operation: '=', threshold: 3 },\n      { type: 'Gem', operation: '=', threshold: 4 },\n      { type: 'Gem', operation: '=', threshold: 5 },\n      { type: 'Relic', operation: 'ANY' },\n      { type: 'Spell', operation: '=', threshold: 4 },\n      { type: 'Spell', operation: '=', threshold: 5 },\n      { type: 'Spell', operation: '=', threshold: 6 },\n      { type: 'Spell', operation: '>', threshold: 6 },\n    ],\n  },\n  market6: {\n    id: 'market6',\n    name: 'Market Setup 6',\n    type: 'official',\n    active: true,\n    tiles: [\n      { type: 'Gem', operation: '=', threshold: 3 },\n      { type: 'Gem', operation: '=', threshold: 4 },\n      { type: 'Relic', operation: '<', threshold: 4 },\n      { type: 'Relic', operation: '>', threshold: 4 },\n      { type: 'Relic', operation: 'ANY' },\n      { type: 'Spell', operation: 'OR', values: [3, 4] },\n      { type: 'Spell', operation: 'OR', values: [5, 6] },\n      { type: 'Spell', operation: 'OR', values: [5, 6] },\n      { type: 'Spell', operation: '>', threshold: 6 },\n    ],\n  },\n  random: {\n    id: 'random',\n    name: 'Random Setup (Default)',\n    type: 'official',\n    default: true, // this flag removes the setup from the settings, so it will always be active\n    active: true,\n    tiles: [\n      { type: 'Gem', operation: 'ANY' },\n      { type: 'Gem', operation: 'ANY' },\n      { type: 'Gem', operation: 'ANY' },\n      { type: 'Relic', operation: 'ANY' },\n      { type: 'Relic', operation: 'ANY' },\n      { type: 'Spell', operation: 'ANY' },\n      { type: 'Spell', operation: 'ANY' },\n      { type: 'Spell', operation: 'ANY' },\n      { type: 'Spell', operation: 'ANY' },\n    ],\n  },\n}\n","import { LoopReducer } from 'redux-loop'\n\nimport { RootState } from '../'\nimport * as SelectedExpansions from '../Settings/Expansions/Selected'\n\n///////////\n// STATE //\n///////////\n\nexport type State = Readonly<boolean>\nexport const initialState = false\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport type Action = SelectedExpansions.Action\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case SelectedExpansions.ActionTypes.FETCH_FROM_DB: {\n      return true\n    }\n\n    case SelectedExpansions.ActionTypes.FETCH_FROM_DB_SUCCESS:\n    case SelectedExpansions.ActionTypes.FETCH_FROM_DB_FAILURE: {\n      return false\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nconst getIsLoading = (state: RootState) => state.MainContentLoading\n\nexport const selectors = {\n  getIsLoading,\n}\n","import { combineReducers } from 'redux-loop'\n\nimport config from '../../../../config'\nimport * as Selected from './Selected'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  Selected: Selected.State\n}\n\nexport const initialState = {\n  Selected: Selected.initialState,\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport type Action = Selected.Action\n\nexport const actions = {\n  Selected: Selected.actions,\n}\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer = combineReducers<State, Action>({\n  Selected: Selected.Reducer,\n})\n\n///////////////\n// SELECTORS //\n///////////////\n\nconst getExpansionNamesByType = (type: string) =>\n  config.EXPANSIONS.filter(expansion => config.DATA[expansion].type === type)\n\nexport const selectors = {\n  getStandaloneExpansions: getExpansionNamesByType('standalone').sort(),\n  getMiniExpansions: getExpansionNamesByType('mini').sort(),\n  getPromos: getExpansionNamesByType('promo').sort((a, b) => {\n    const promoA = config.DATA[a].name\n    const promoB = config.DATA[b].name\n\n    if (promoA < promoB) {\n      return -1\n    }\n\n    if (promoA > promoB) {\n      return 1\n    }\n\n    return 0\n  }),\n  Selected: Selected.selectors,\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer, loop, Cmd } from 'redux-loop'\nimport { createSelector } from 'reselect'\nimport { get as getFromDb, set as setToDb } from 'idb-keyval'\nimport shortid from 'shortid'\n\nimport config from '../../../../config'\nimport * as types from '../../../../types'\nimport { RootState } from '../../'\n\nconst SUPPLY_DB_KEY = 'supplySetups-1.6' // FIXME this is a quickfix, see https://github.com/on3iro/aeons-end-randomizer/issues/138\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  Predefined: types.IMarketSetups\n  Custom: types.IMarketSetups\n}\nexport const initialState: State = {\n  Predefined: config.MARKETSETUPS,\n  Custom: {},\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  TOGGLE_ALL = 'Settings/SupplySetups/TOGGLE_ALL',\n  TOGGLE_SETUP = 'Settings/SupplySetups/TOGGLE_SETUP',\n  CREATE_CUSTOM_SETUP = 'Settings/SupplySetups/CREATE_CUSTOM_SETUP',\n  SAVE_CUSTOM_SETUP = 'Settings/SupplySetups/SAVE_CUSTOM_SETUP',\n  CANCEL_EDIT_SETUP = 'Settings/SupplySetups/CANCEL_EDIT_SETUP',\n  EDIT_CUSTOM_SETUP = 'Settings/SupplySetups/EDIT_CUSTOM_SETUP',\n  DELETE_CUSTOM_SETUP = 'Settings/SupplySetups/DELETE_CUSTOM_SETUP',\n  SET_TO_DB = 'Settings/SupplySetups/SET_TO_DB',\n  SET_TO_DB_SUCCESS = 'Settings/SupplySetups/SET_TO_DB_SUCCESS',\n  SET_TO_DB_FAILURE = 'Settings/SupplySetups/SET_TO_DB_FAILURE',\n  FETCH_FROM_DB = 'Settings/SupplySetups/FETCH_FROM_DB',\n  FETCH_FROM_DB_SUCCESS = 'Settings/SupplySetups/FETCH_FROM_DB_SUCCESS',\n  FETCH_FROM_DB_FAILURE = 'Settings/SupplySetups/FETCH_FROM_DB_FAILURE',\n}\n\ntype SetupType = 'Predefined' | 'Custom'\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  toggleAll: () => createAction(ActionTypes.TOGGLE_ALL),\n  toggleSetup: (setup: string, setupType: SetupType) =>\n    createAction(ActionTypes.TOGGLE_SETUP, { setup, setupType }),\n  createCustomSetup: () =>\n    createAction(ActionTypes.CREATE_CUSTOM_SETUP, shortid.generate()),\n  saveCustomSetup: (setup: types.IMarketSetup) =>\n    createAction(ActionTypes.SAVE_CUSTOM_SETUP, setup),\n  cancelEdit: (id: string) => createAction(ActionTypes.CANCEL_EDIT_SETUP, id),\n  editCustomSetup: (id: string) =>\n    createAction(ActionTypes.EDIT_CUSTOM_SETUP, id),\n  deleteCustomSetup: (id: string) =>\n    createAction(ActionTypes.DELETE_CUSTOM_SETUP, id),\n  setToDB: (state: State) => createAction(ActionTypes.SET_TO_DB, state),\n  setToDBSuccessful: () => createAction(ActionTypes.SET_TO_DB_SUCCESS),\n  setToDBFailed: (error: Object) =>\n    createAction(ActionTypes.SET_TO_DB_FAILURE, error),\n  fetchFromDB: () => createAction(ActionTypes.FETCH_FROM_DB),\n  fetchFromDBSuccessful: (state: State) =>\n    createAction(ActionTypes.FETCH_FROM_DB_SUCCESS, state),\n  fetchFromDBFailed: (error: Object) =>\n    createAction(ActionTypes.FETCH_FROM_DB_FAILURE, error),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nconst allSetsAreSelected = (state: State) =>\n  Object.values({ ...state.Predefined, ...state.Custom }).every(\n    val => val.active\n  )\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.TOGGLE_ALL: {\n      const allSetsSelected = allSetsAreSelected(state)\n      const newPredefined = Object.values(state.Predefined).reduce(\n        (acc, setup) => ({\n          ...acc,\n          [setup.id]: {\n            ...setup,\n            active: setup.default ? true : !allSetsSelected,\n          },\n        }),\n        {}\n      )\n      const newCustom = Object.values(state.Custom).reduce(\n        (acc, setup) => ({\n          ...acc,\n          [setup.id]: { ...setup, active: !allSetsSelected },\n        }),\n        {}\n      )\n      const newState = { Predefined: newPredefined, Custom: newCustom }\n\n      return loop(\n        newState,\n        Cmd.run<Action>(setToDb, {\n          args: [SUPPLY_DB_KEY, newState],\n          successActionCreator: actions.setToDBSuccessful,\n          failActionCreator: actions.setToDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.TOGGLE_SETUP: {\n      const { setup, setupType } = action.payload\n      const newState = {\n        ...state,\n        [setupType]: {\n          ...state[setupType],\n          [setup]: {\n            ...state[setupType][setup],\n            active: !state[setupType][setup].active,\n          },\n        },\n      }\n\n      return loop(\n        newState,\n        Cmd.run<Action>(setToDb, {\n          args: [SUPPLY_DB_KEY, newState],\n          successActionCreator: actions.setToDBSuccessful,\n          failActionCreator: actions.setToDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.FETCH_FROM_DB: {\n      return loop(\n        state,\n        Cmd.run<Action>(getFromDb, {\n          args: [SUPPLY_DB_KEY],\n          successActionCreator: actions.fetchFromDBSuccessful,\n          failActionCreator: actions.fetchFromDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.FETCH_FROM_DB_SUCCESS: {\n      return action.payload || initialState\n    }\n\n    case ActionTypes.FETCH_FROM_DB_FAILURE: {\n      return state\n    }\n\n    case ActionTypes.CREATE_CUSTOM_SETUP: {\n      const id = action.payload\n      return {\n        ...state,\n        Custom: {\n          [id]: {\n            id,\n            name: '',\n            type: 'custom',\n            active: false,\n            tiles: [],\n            isDirty: true,\n            isNew: true,\n          },\n          ...state.Custom,\n        },\n      }\n    }\n\n    case ActionTypes.SAVE_CUSTOM_SETUP: {\n      const setup = action.payload\n      // Because we currently do not have a specific mapping from Blueprints\n      // to actual cards in the supply it is important,\n      // that we keep the order of Gem -> Relic -> Spell for supply sets.\n      const tiles = [...setup.tiles].sort((a, b) => {\n        if (a.type === 'Gem') {\n          return -1\n        }\n\n        if (a.type === 'Relic' && b.type === 'Spell') {\n          return -1\n        }\n\n        return 1\n      })\n\n      const newState = {\n        ...state,\n        Custom: {\n          ...state.Custom,\n          [setup.id]: {\n            ...setup,\n            tiles,\n            isNew: false,\n            isDirty: false,\n          },\n        },\n      }\n\n      return loop(\n        newState,\n        Cmd.run<Action>(setToDb, {\n          args: [SUPPLY_DB_KEY, newState],\n          successActionCreator: actions.setToDBSuccessful,\n          failActionCreator: actions.setToDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.EDIT_CUSTOM_SETUP: {\n      const id = action.payload\n\n      return {\n        ...state,\n        Custom: {\n          ...state.Custom,\n          [id]: {\n            ...state.Custom[id],\n            isDirty: true,\n          },\n        },\n      }\n    }\n\n    case ActionTypes.CANCEL_EDIT_SETUP: {\n      const id = action.payload\n\n      const { [id]: setup, ...rest } = state.Custom\n\n      if (setup.isNew) {\n        return { ...state, Custom: { ...rest } }\n      }\n\n      return {\n        ...state,\n        Custom: {\n          ...rest,\n          [id]: {\n            ...setup,\n            isDirty: false,\n          },\n        },\n      }\n    }\n\n    // FIXME should prompt the user if he really wants to delete the setup\n    case ActionTypes.DELETE_CUSTOM_SETUP: {\n      const id = action.payload\n\n      const { [id]: setup, ...rest } = state.Custom\n      const newState = { ...state, Custom: { ...rest } }\n\n      return loop(\n        newState,\n        Cmd.run<Action>(setToDb, {\n          args: [SUPPLY_DB_KEY, newState],\n          successActionCreator: actions.setToDBSuccessful,\n          failActionCreator: actions.setToDBFailed,\n        })\n      )\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nconst getState = (state: RootState) => state.Settings.SupplySetups\nconst getPredefined = (state: RootState) =>\n  state.Settings.SupplySetups.Predefined\nconst getCustom = (state: RootState) => state.Settings.SupplySetups.Custom\n\nconst getPredefinedAsArray = createSelector(\n  [getPredefined],\n  predefined => Object.values(predefined).filter(setup => !setup.default)\n)\n\nconst getCustomAsArray = createSelector(\n  [getCustom],\n  custom => Object.values(custom).filter(setup => !setup.default)\n)\n\nconst getCustomAndPredefined = createSelector(\n  [getPredefined, getCustom],\n  (predefined, custom) => ({ ...predefined, ...custom })\n)\n\nconst getAllAsArray = createSelector(\n  [getCustomAndPredefined],\n  customAndPredefined => Object.values(customAndPredefined)\n)\n\nconst makeGetCustomAndPredefined = () => getCustomAndPredefined\n\nconst getAllExceptDefaultSets = createSelector(\n  [getAllAsArray],\n  allSets => allSets.filter(set => !set.default)\n)\n\nconst getActiveSetups = createSelector(\n  [getAllAsArray],\n  allSets => allSets.filter(setup => setup.active)\n)\n\nconst getAllSetsSelected = createSelector(\n  [getState],\n  state => allSetsAreSelected(state)\n)\n\nexport const selectors = {\n  getActiveSetups,\n  getAllAsArray,\n  getAllExceptDefaultSets,\n  getAllSetsSelected,\n  getCustom,\n  getCustomAndPredefined,\n  getCustomAsArray,\n  getPredefined,\n  getPredefinedAsArray,\n  makeGetCustomAndPredefined,\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\nimport { ICreature } from '../../../types'\nimport { RootState } from '../'\nimport { getListOfAvailableEntity, getRandomEntity } from '../../helpers'\n\n///////////\n// STATE //\n///////////\n\nexport type State = Readonly<ICreature> | undefined\nexport const initialState: State = undefined\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_RANDOM = 'Nemesis/SET_RANDOM',\n}\n\nexport const actions = {\n  setRandomNemesis: (expansions: ReadonlyArray<string>) =>\n    createAction(ActionTypes.SET_RANDOM, expansions),\n  noOp: () => createAction('NOOP'),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_RANDOM: {\n      const expansions = action.payload\n      const availableNemeses = getListOfAvailableEntity(expansions, 'nemeses')\n      return getRandomEntity(availableNemeses)\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nconst getNemesis = (state: RootState) => state.Nemesis\n\nexport const selectors = {\n  getNemesis,\n}\n","import { combineReducers } from 'redux-loop'\n\nimport * as Expansions from './Expansions'\nimport * as SupplySetups from './SupplySetups'\n\nexport type State = {\n  Expansions: Expansions.State\n  SupplySetups: SupplySetups.State\n}\n\nexport type Action = Expansions.Action | SupplySetups.Action\n\nexport const actions = {\n  Expansions: Expansions.actions,\n  SupplySetups: SupplySetups.actions,\n}\n\nexport const selectors = {\n  Expansions: Expansions.selectors,\n  SupplySetups: SupplySetups.selectors,\n}\n\nexport const initialState = {\n  Expansions: Expansions.initialState,\n  SupplySetups: SupplySetups.initialState,\n}\n\nexport const Reducer = combineReducers<State, Action>({\n  Expansions: Expansions.Reducer,\n  SupplySetups: SupplySetups.Reducer,\n})\n","import config from '../config'\nimport * as types from '../types'\n\nexport const createSlotList = (\n  amount: number\n): Array<types.IEmptyBluePrint> => {\n  return Array.from(\n    { length: amount },\n    (): types.IEmptyBluePrint => ({ type: 'EMPTY', operation: 'NoOp' })\n  )\n}\n\n/**\n * Collects lists of entities (like \"cards\", \"mages\", \"nemeses\") for each\n * set the user has configured inside the application settings and combines them into one.\n * Example:\n *  const selSets = [ \"AE\", \"WE\" ]\n *\n *  getListOfAvailableEntity(selSets, \"mages\") // => [ {...}, ...]\n */\nexport const getListOfAvailableEntity = (\n  selectedSets: ReadonlyArray<string>,\n  entity: types.EntityType\n) =>\n  selectedSets.reduce(\n    (\n      acc: Array<types.ICard | types.ICreature>,\n      expansion: string\n    ): Array<types.ICard | types.ICreature> => {\n      return [...acc, ...config.DATA[expansion][entity]]\n    },\n    []\n  )\n\nexport const isCardArray = (\n  entityList: Array<types.ICard | types.ICreature>\n): entityList is Array<types.ICard> => {\n  return (entityList[0] as types.ICard).name !== undefined\n}\n\n// TODO Refactor turnorder cards and mages (code duplication)\ntype TurnOrderListReductionResult = {\n  availableCards: types.ITurnOrderCard[]\n  result: types.ITurnOrderCard[]\n}\n\nexport const createTurnOrderCardList = (\n  availableCards: types.ITurnOrderCard[],\n  slots: types.ITurnOrderCard[],\n  getEntity: <T>(list: Array<T>) => T\n): TurnOrderListReductionResult => {\n  const result = slots.reduce(\n    (\n      acc: TurnOrderListReductionResult,\n      slot: types.ITurnOrderCard,\n      i: number\n    ) => {\n      // If no entity is left, simply return the actual empty slot\n      const card = getEntity(acc.availableCards) || slot\n\n      // Make sure each entity will only be added to the result list once\n      const remainingCards = acc.availableCards.filter(\n        entity => entity.id !== card.id\n      )\n\n      return {\n        availableCards: remainingCards,\n        result: [...acc.result, card],\n      }\n    },\n    { availableCards, result: [] }\n  )\n\n  return result\n}\n\ntype MageListReductionResult = {\n  availableMages: types.ICreature[]\n  result: types.ICreature[]\n}\n\nexport const createMageList = (\n  availableMages: types.ICreature[],\n  slots: Array<types.Slot>,\n  getEntity: <T>(list: Array<T>) => T\n): MageListReductionResult => {\n  const result = slots.reduce(\n    (acc: MageListReductionResult, slot: types.Slot, i: number) => {\n      // If no entity is left, simply return the actual empty slot\n      const mage = getEntity(acc.availableMages) || slot\n\n      // Make sure each entity will only be added to the result list once\n      const remainingMages = acc.availableMages.filter(\n        entity => entity.id !== mage.id\n      )\n\n      return {\n        availableMages: remainingMages,\n        result: [...acc.result, mage],\n      }\n    },\n    { availableMages, result: [] }\n  )\n\n  return result\n}\n\nexport const shuffleDeck = (\n  deck: types.ITurnOrderCard[]\n): types.ITurnOrderCard[] => {\n  return createTurnOrderCardList(deck, deck, getRandomEntity).result\n}\n\n/**\n * Gets a random value from a list. (The wording of entities is just used for semantic context)\n */\nexport const getRandomEntity = <E>(availableEntities: Array<E>) =>\n  availableEntities[Math.floor(Math.random() * availableEntities.length)]\n\nexport const getOperationString = (\n  operation: types.Operation,\n  values?: number[],\n  threshold?: number\n) => {\n  if (operation === 'OR' && values) {\n    return values.join('/')\n  }\n\n  const thresholdValue = threshold ? threshold : ''\n\n  return `${operation} ${thresholdValue}`\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\nimport { RootState } from '../../'\n\n///////////\n// STATE //\n///////////\n\nexport type MageCount = 1 | 2 | 3 | 4\nexport type State = MageCount\nexport const initialState: State = 1\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET = 'Mages/Count/SET',\n}\n\nexport const actions = {\n  setCount: (count: MageCount) => createAction(ActionTypes.SET, count),\n  noOp: () => createAction('NOOP'),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET: {\n      return action.payload\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nconst getCount = (state: RootState) => state.Mages.Count\n\nexport const selectors = {\n  getCount,\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\nimport { ICreature } from '../../../../types'\nimport { RootState } from '../../'\nimport {\n  createSlotList,\n  createMageList,\n  getListOfAvailableEntity,\n  getRandomEntity,\n} from '../../../helpers'\n\nimport { MageCount } from '../Count'\n\n///////////\n// STATE //\n///////////\n\nexport type State = ReadonlyArray<ICreature>\nexport const initialState: State = []\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_RANDOM = 'Mages/Recruited/SET_RANDOM',\n}\n\nexport const actions = {\n  setRandomMages: (expansions: ReadonlyArray<string>, count: MageCount) =>\n    createAction(ActionTypes.SET_RANDOM, { expansions, count }),\n  noOp: () => createAction('NOOP'),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_RANDOM: {\n      const { expansions, count } = action.payload\n      const availableMages = getListOfAvailableEntity(expansions, 'mages')\n      const slotList = createSlotList(count)\n      const { result } = createMageList(\n        availableMages,\n        slotList,\n        getRandomEntity\n      )\n      return result\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nconst getMages = (state: RootState) => state.Mages.Recruited\n\nexport const selectors = {\n  getMages,\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\nimport config from '../../../../config'\nimport * as types from '../../../../types'\nimport { RootState } from '../../'\n\n///////////\n// STATE //\n///////////\n\nexport type State = Readonly<{\n  Selected: types.IMarketSetup\n}>\nexport const initialState: State = {\n  // FIXME we should ensure with typescript, that the 'default: true' property is not\n  // optional for default state here\n  Selected: config.MARKETSETUPS['random'],\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SELECT_SETUP = 'Supply/Selection/SELECT_SETUP',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  selectSetup: (setup: Readonly<types.IMarketSetup>) =>\n    createAction(ActionTypes.SELECT_SETUP, setup),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SELECT_SETUP: {\n      return {\n        ...state,\n        Selected: action.payload,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nconst getSelectedSetup = (state: RootState) => state.Supply.Selection.Selected\n\nexport const selectors = {\n  getSelectedSetup,\n}\n","import { combineReducers } from 'redux-loop'\n\nimport * as Count from './Count'\nimport * as Recruited from './Recruited'\n\nexport type State = {\n  Count: Count.State\n  Recruited: Recruited.State\n}\n\nexport type Action = Count.Action | Recruited.Action\n\nexport const selectors = {\n  Count: Count.selectors,\n  Recruited: Recruited.selectors,\n}\n\nexport const actions = {\n  Count: Count.actions,\n  Recruited: Recruited.actions,\n}\n\nexport const initialState = {\n  Count: Count.initialState,\n  Recruited: Recruited.initialState,\n}\n\nexport const Reducer = combineReducers<State, Action>({\n  Count: Count.Reducer,\n  Recruited: Recruited.Reducer,\n})\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\nimport { Slot, ICard } from '../../../../types'\nimport { createSlotList } from '../../../helpers'\nimport config from '../../../../config'\nimport { RootState } from '../../'\nimport { createSupply } from './helpers'\nimport * as SupplySelection from '../Selection'\n\n///////////\n// STATE //\n///////////\n\nexport type State = Readonly<{\n  Cards: ReadonlyArray<Slot | ICard>\n}>\nexport const initialState: State = {\n  Cards: createSlotList(config.DEFAULTSUPPLYCOUNT),\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  RESET = 'Supply/RandomSetup/RESET',\n  CREATE = 'Supply/RandomSetup/CREATE',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  resetMarket: () => createAction(ActionTypes.RESET),\n  createMarket: (\n    expansions: ReadonlyArray<string>,\n    tiles: ReadonlyArray<Slot>\n  ) => createAction(ActionTypes.CREATE, { expansions, tiles }),\n}\n\nexport type Action = ActionsUnion<typeof actions> | SupplySelection.Action\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case SupplySelection.ActionTypes.SELECT_SETUP:\n    case ActionTypes.RESET: {\n      return initialState\n    }\n\n    case ActionTypes.CREATE: {\n      const { expansions, tiles } = action.payload\n      const { gems, relics, spells } = createSupply(expansions, tiles)\n      return {\n        ...state,\n        Cards: [...gems.result, ...relics.result, ...spells.result],\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nconst getCards = (state: RootState) => state.Supply.RandomSetup.Cards\n\nexport const selectors = {\n  getCards,\n}\n","import { ICard, IBluePrint, CardType } from '../../../../types'\nimport {\n  getListOfAvailableEntity,\n  getRandomEntity,\n  isCardArray,\n} from '../../../helpers'\n\ntype CardListReduceResult = {\n  availableCards: ICard[]\n  result: ICard[]\n}\n\n/**\n * Given a card object and a setupBlueprint this returns either\n * true or false, depending on the cost of the card and the expectation set by\n * the blueprints operation and cost.\n */\nconst filterByCost = (card: ICard, setupBlueprint: IBluePrint) => {\n  switch (setupBlueprint.operation) {\n    case '<': {\n      if (!setupBlueprint.threshold) return true\n      return card.cost < setupBlueprint.threshold\n    }\n    case '>': {\n      if (!setupBlueprint.threshold) return true\n      return card.cost > setupBlueprint.threshold\n    }\n    case '<=': {\n      if (!setupBlueprint.threshold) return true\n      return card.cost <= setupBlueprint.threshold\n    }\n    case '>=': {\n      if (!setupBlueprint.threshold) return true\n      return card.cost >= setupBlueprint.threshold\n    }\n    case '=': {\n      if (!setupBlueprint.threshold) return true\n      return card.cost === setupBlueprint.threshold\n    }\n    case 'OR': {\n      if (!setupBlueprint.values) return true\n      return setupBlueprint.values.indexOf(card.cost) !== -1\n    }\n    default: {\n      return true\n    }\n  }\n}\n\nconst createCardList = (\n  availableCards: ICard[],\n  blueprints: Array<IBluePrint>,\n  getEntity: <T>(list: Array<T>) => T\n): CardListReduceResult =>\n  blueprints.reduce(\n    (acc: CardListReduceResult, blueprint: IBluePrint, i: number) => {\n      const filteredByCost = acc.availableCards.filter(card =>\n        filterByCost(card, blueprint)\n      )\n\n      // If no entity is left, simply return the actual empty slot\n      const card = getEntity(filteredByCost) || blueprint\n\n      // Make sure each entity will only be added to the result list once\n      const remainingCards = acc.availableCards.filter(\n        entity => entity.id !== card.id\n      )\n\n      return {\n        availableCards: remainingCards,\n        result: [...acc.result, card],\n      }\n    },\n    { availableCards, result: [] }\n  )\n\n/**\n * Creates a list of randomly selected cards from a given pool of cards by a specific type.\n * The amount of cards generated is determined by the amount of tileSetups matching\n * the given cardType. E.g. if 2 out of 9 tileSetups have the type=\"Gem\" and the\n * specified type is \"Gem\" as well, a list of two cards will be created.\n *\n * return List<Card>\n */\nconst getRandomCardsByType = (\n  availableCards: ReadonlyArray<ICard>,\n  tileSetups: ReadonlyArray<IBluePrint>,\n  cardType: CardType\n) => {\n  const cardSlots = tileSetups.filter(({ type }) => type === cardType)\n  const availableCardsOfType = availableCards.filter(\n    ({ type }) => type === cardType\n  )\n  return createCardList(availableCardsOfType, cardSlots, getRandomEntity)\n}\n\n/**\n * Creates a supply object, containing gems, relics and spells with meta information.\n * The pool of available cards will be determined by the sets the user has selected\n * inside the application settings. The supply will be created via the blueprint\n * of the given tileSetups.\n *\n * return { gems, relics, spells }\n */\nexport const createSupply = (\n  selectedExpansions: ReadonlyArray<string>,\n  tileSetups: ReadonlyArray<IBluePrint>\n) => {\n  const availableCards = getListOfAvailableEntity(selectedExpansions, 'cards')\n\n  if (!isCardArray(availableCards)) {\n    return {\n      gems: { result: [] },\n      relics: { result: [] },\n      spells: { result: [] },\n    }\n  }\n\n  const gems = getRandomCardsByType(availableCards, tileSetups, 'Gem')\n  const relics = getRandomCardsByType(availableCards, tileSetups, 'Relic')\n  const spells = getRandomCardsByType(availableCards, tileSetups, 'Spell')\n\n  return { gems, relics, spells }\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer, loop, Cmd } from 'redux-loop'\nimport { get as getFromDb, set as setToDb } from 'idb-keyval'\n\nimport { RootState } from '../../'\nimport { ITurnOrderCard } from '../../../../types'\nimport { shuffleDeck } from '../../../helpers'\n\nexport const TURNORDER_GAME_DB_KEY = 'turnOrderGameState'\n\n/////////////\n// HELPERS //\n/////////////\n\nconst newStateWithDBWrite = (newState: State) => {\n  return loop(\n    newState,\n    Cmd.run<Action>(setToDb, {\n      args: [TURNORDER_GAME_DB_KEY, newState],\n      successActionCreator: actions.setTurnOrderToDbSuccess,\n      failActionCreator: actions.setTurnOrderToDbFailure,\n    })\n  )\n}\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  deck: Array<ITurnOrderCard>\n  discard: Array<ITurnOrderCard>\n  started: boolean\n}\nexport const initialState: State = {\n  deck: [],\n  discard: [],\n  started: false,\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  INIT = 'TurnOrder/ActiveGame/INIT',\n  DRAW = 'TurnOrder/ActiveGame/DRAW',\n  NEW_ROUND = 'TurnOrder/ActiveGame/NEW_ROUND',\n  ADD_TO_TOP = 'TurnOrder/ActiveGame/ADD_TO_TOP',\n  ADD_TO_BOTTOM = 'TurnOrder/ActiveGame/ADD_TO_BOTTOM',\n  SHUFFLE_INTO_DECK = 'TurnOrder/ActiveGame/SHUFFLE_INTO_DECK',\n  SET_TURNORDER_TO_DB_SUCCESS = 'TurnOrder/ActiveGame/SET_TURNORDER_TO_DB_SUCCESS',\n  SET_TURNORDER_TO_DB_FAILURE = 'TurnOrder/ActiveGame/SET_TURNORDER_TO_DB_FAILURE',\n  START_GAME = 'TurnOrder/ActiveGame/START_GAME',\n  RESET_GAME = 'TurnOrder/ActiveGame/RESET_GAME',\n  FETCH_FROM_DB = 'TurnOrder/ActiveGame/FETCH_FROM_DB',\n  FETCH_FROM_DB_SUCCESS = 'TurnOrder/ActiveGame/FETCH_FROM_DB_SUCCESS',\n  FETCH_FROM_DB_FAILURE = 'TurnOrder/ActiveGame/FETCH_FROM_DB_FAILURE',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  init: (state: State) => createAction(ActionTypes.INIT, state),\n  draw: () => createAction(ActionTypes.DRAW),\n  newRound: (turnOrderCards: ITurnOrderCard[]) =>\n    createAction(ActionTypes.NEW_ROUND, turnOrderCards),\n  addToTop: (cardId: string) => createAction(ActionTypes.ADD_TO_TOP, cardId),\n  addToBottom: (cardId: string) =>\n    createAction(ActionTypes.ADD_TO_BOTTOM, cardId),\n  shuffleIntoDeck: (cardId: string) =>\n    createAction(ActionTypes.SHUFFLE_INTO_DECK, cardId),\n  setTurnOrderToDbSuccess: () =>\n    createAction(ActionTypes.SET_TURNORDER_TO_DB_SUCCESS),\n  setTurnOrderToDbFailure: () =>\n    createAction(ActionTypes.SET_TURNORDER_TO_DB_FAILURE),\n  startGame: (turnOrderCards: ITurnOrderCard[]) =>\n    createAction(ActionTypes.START_GAME, turnOrderCards),\n  resetGame: () => createAction(ActionTypes.RESET_GAME),\n  fetchFromDB: () => createAction(ActionTypes.FETCH_FROM_DB),\n  fetchFromDBSuccessful: (state: State) =>\n    createAction(ActionTypes.FETCH_FROM_DB_SUCCESS, state),\n  fetchFromDBFailed: () => createAction(ActionTypes.FETCH_FROM_DB_FAILURE),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.INIT: {\n      return action.payload\n    }\n\n    case ActionTypes.DRAW: {\n      const { deck } = state\n\n      if (deck.length === 0) return state\n\n      const cardDrawn = deck[deck.length - 1]\n\n      const newState = {\n        ...state,\n        deck: deck.filter(card => card.id !== cardDrawn.id),\n        discard: [cardDrawn, ...state.discard],\n      }\n\n      return newStateWithDBWrite(newState)\n    }\n\n    case ActionTypes.NEW_ROUND: {\n      const newState = {\n        ...state,\n        deck: shuffleDeck(action.payload),\n        discard: [],\n      }\n\n      return newStateWithDBWrite(newState)\n    }\n\n    case ActionTypes.ADD_TO_TOP: {\n      const cardId = action.payload\n      const cardToAdd = state.discard.find(card => card.id === cardId)\n\n      if (!cardToAdd) return state\n\n      const newState = {\n        ...state,\n        deck: [...state.deck, cardToAdd],\n        discard: state.discard.filter(card => card.id !== cardId),\n      }\n\n      return newStateWithDBWrite(newState)\n    }\n\n    case ActionTypes.ADD_TO_BOTTOM: {\n      const cardId = action.payload\n      const cardToAdd = state.discard.find(card => card.id === cardId)\n\n      if (!cardToAdd) return state\n\n      const newState = {\n        ...state,\n        deck: [cardToAdd, ...state.deck],\n        discard: state.discard.filter(card => card.id !== cardId),\n      }\n\n      return newStateWithDBWrite(newState)\n    }\n\n    case ActionTypes.SHUFFLE_INTO_DECK: {\n      const cardId = action.payload\n      const cardToShuffle = state.discard.find(card => card.id === cardId)\n\n      if (!cardToShuffle) return state\n\n      const newDeck = [...state.deck, cardToShuffle]\n      const shuffledDeck = shuffleDeck(newDeck)\n\n      const newState = {\n        ...state,\n        deck: shuffledDeck,\n        discard: state.discard.filter(card => card.id !== cardId),\n      }\n\n      return newStateWithDBWrite(newState)\n    }\n\n    case ActionTypes.START_GAME: {\n      return newStateWithDBWrite({\n        started: true,\n        deck: shuffleDeck(action.payload),\n        discard: [],\n      })\n    }\n\n    case ActionTypes.RESET_GAME: {\n      return newStateWithDBWrite({\n        started: false,\n        deck: [],\n        discard: [],\n      })\n    }\n\n    case ActionTypes.FETCH_FROM_DB: {\n      return loop(\n        state,\n        Cmd.run<Action>(getFromDb, {\n          args: [TURNORDER_GAME_DB_KEY],\n          successActionCreator: actions.fetchFromDBSuccessful,\n          failActionCreator: actions.fetchFromDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.FETCH_FROM_DB_SUCCESS: {\n      // If the fetched state somehow is undefined just take the current state instead\n      const newState = action.payload || state\n      return newState\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nconst getDeck = (state: RootState) => state.TurnOrder.ActiveGame.deck\nconst getDiscard = (state: RootState) => state.TurnOrder.ActiveGame.discard\nconst getHasStarted = (state: RootState) => state.TurnOrder.ActiveGame.started\n\nexport const selectors = {\n  getDeck,\n  getDiscard,\n  getHasStarted,\n}\n","import { combineReducers } from 'redux-loop'\n\nimport * as Selection from './Selection'\nimport * as RandomSetup from './RandomSetup'\n\nexport type State = {\n  Selection: Selection.State\n  RandomSetup: RandomSetup.State\n}\n\nexport type Action = Selection.Action | RandomSetup.Action\n\nexport const actions = {\n  Selection: Selection.actions,\n  RandomSetup: RandomSetup.actions,\n}\n\nexport const selectors = {\n  Selection: Selection.selectors,\n  RandomSetup: RandomSetup.selectors,\n}\n\nexport const initialState = {\n  Selection: Selection.initialState,\n  RandomSetup: RandomSetup.initialState,\n}\n\nexport const Reducer = combineReducers<State, Action>({\n  Selection: Selection.Reducer,\n  RandomSetup: RandomSetup.Reducer,\n})\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer, loop, Cmd } from 'redux-loop'\nimport { createSelector } from 'reselect'\nimport { get as getFromDb, set as setToDb } from 'idb-keyval'\n\nimport config from '../../../../config'\nimport { ITurnOrderPlayerCount, ITurnOrderSetup, Mode } from '../../../../types'\nimport { RootState } from '../../'\nimport {\n  actions as activeGameActions,\n  Action as ActiveGameAction,\n} from '../ActiveGame'\n\nconst TURNORDER_CONFIG_DB_KEY = 'turnOrderConfiguration'\n\n/////////////\n// HELPERS //\n/////////////\n\nconst adjustSetup = (mode: Mode, setup: ITurnOrderSetup): ITurnOrderSetup => {\n  switch (mode) {\n    case 'Maelstrom': {\n      return {\n        id: setup.id,\n        name: setup.name,\n        turnOrderCards: setup.turnOrderCards.map(card => {\n          return card.id === 'nemesis-1' || card.id === 'blitz'\n            ? config.TURNORDERCARDS['maelstrom']\n            : card\n        }),\n      }\n    }\n\n    case 'Blitz': {\n      return {\n        id: setup.id,\n        name: setup.name,\n        turnOrderCards: setup.turnOrderCards.map(card => {\n          return card.id === 'nemesis-1' || card.id === 'maelstrom'\n            ? config.TURNORDERCARDS['blitz']\n            : card\n        }),\n      }\n    }\n\n    case 'Default':\n    default: {\n      return setup\n    }\n  }\n}\n\n///////////\n// STATE //\n///////////\n\nexport type State = Readonly<{\n  Mode: Mode\n  SelectedPlayerCount: ITurnOrderPlayerCount\n  SelectedSetup: ITurnOrderSetup\n}>\n\nconst INITIAL_MODE = 'Default'\nconst INITIAL_PLAYER_SETUP = config.TURNORDERSETUPS['onePlayer']\nconst INITIAL_VARIATION = INITIAL_PLAYER_SETUP.variations['default']\n\nexport const initialState: State = {\n  Mode: INITIAL_MODE,\n  SelectedPlayerCount: INITIAL_PLAYER_SETUP,\n  SelectedSetup: INITIAL_VARIATION,\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_MODE = 'TurnOrder/Configuration/SET_MODE',\n  SELECT_PLAYER_COUNT = 'TurnOrder/Configuration/SELECT_PLAYER_COUNT',\n  SELECT_SETUP = 'TurnOrder/Configuration/SELECT_SETUP',\n  SET_TO_DB = 'TurnOrder/Configuration/SET_TO_DB',\n  SET_TO_DB_SUCCESS = 'TurnOrder/Configuration/SET_TO_DB_SUCCESS',\n  SET_TO_DB_FAILURE = 'TurnOrder/Configuration/SET_TO_DB_FAILURE',\n  FETCH_FROM_DB = 'TurnOrder/Configuration/FETCH_FROM_DB',\n  FETCH_FROM_DB_SUCCESS = 'TurnOrder/Configuration/FETCH_FROM_DB_SUCCESS',\n  FETCH_FROM_DB_FAILURE = 'TurnOrder/Configuration/FETCH_FROM_DB_FAILURE',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setMode: (mode: Mode) => createAction(ActionTypes.SET_MODE, mode),\n  selectPlayerCount: (playerCountId: string) =>\n    createAction(ActionTypes.SELECT_PLAYER_COUNT, playerCountId),\n  selectSetup: (setupId: string) =>\n    createAction(ActionTypes.SELECT_SETUP, setupId),\n  setToDB: () => createAction(ActionTypes.SET_TO_DB),\n  setToDBSuccessful: () => createAction(ActionTypes.SET_TO_DB_SUCCESS),\n  setToDBFailed: () => createAction(ActionTypes.SET_TO_DB_FAILURE),\n  fetchFromDB: () => createAction(ActionTypes.FETCH_FROM_DB),\n  fetchFromDBSuccessful: (state: State) =>\n    createAction(ActionTypes.FETCH_FROM_DB_SUCCESS, state),\n  fetchFromDBFailed: () => createAction(ActionTypes.FETCH_FROM_DB_FAILURE),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action | ActiveGameAction> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_MODE: {\n      const newState = { ...state, Mode: action.payload }\n      return loop(\n        newState,\n        Cmd.run<Action>(setToDb, {\n          args: [TURNORDER_CONFIG_DB_KEY, newState],\n          successActionCreator: actions.setToDBSuccessful,\n          failActionCreator: actions.setToDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.SELECT_PLAYER_COUNT: {\n      const newState = {\n        ...state,\n        SelectedPlayerCount: config.TURNORDERSETUPS[action.payload],\n        SelectedSetup:\n          config.TURNORDERSETUPS[action.payload].variations['default'],\n      }\n      return loop(\n        newState,\n        Cmd.run<Action>(setToDb, {\n          args: [TURNORDER_CONFIG_DB_KEY, newState],\n          successActionCreator: actions.setToDBSuccessful,\n          failActionCreator: actions.setToDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.SELECT_SETUP: {\n      const newState = {\n        ...state,\n        SelectedSetup: state.SelectedPlayerCount.variations[action.payload],\n      }\n      return loop(\n        newState,\n        Cmd.run<Action>(setToDb, {\n          args: [TURNORDER_CONFIG_DB_KEY, newState],\n          successActionCreator: actions.setToDBSuccessful,\n          failActionCreator: actions.setToDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.FETCH_FROM_DB: {\n      return loop(\n        state,\n        Cmd.run<Action>(getFromDb, {\n          args: [TURNORDER_CONFIG_DB_KEY],\n          successActionCreator: actions.fetchFromDBSuccessful,\n          failActionCreator: actions.fetchFromDBFailed,\n        })\n      )\n    }\n\n    case ActionTypes.FETCH_FROM_DB_SUCCESS: {\n      // If the fetched state somehow is undefined just take the current state instead\n      const newState = action.payload || state\n      return loop(\n        newState,\n        // If we could load the configuration also load the actual\n        // turnorder game state\n        Cmd.action<ActiveGameAction>(activeGameActions.fetchFromDB())\n      )\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nconst getMode = (state: RootState) => state.TurnOrder.Configuration.Mode\nconst getSelectedPlayerCount = (state: RootState) =>\n  state.TurnOrder.Configuration.SelectedPlayerCount\nconst getSelectedSetup = (state: RootState) =>\n  state.TurnOrder.Configuration.SelectedSetup\nconst getConfiguration = createSelector(\n  [getMode, getSelectedSetup],\n  (mode, selectedSetup) => adjustSetup(mode, selectedSetup)\n)\nconst getAvailableCards = createSelector(\n  [getConfiguration],\n  config => config.turnOrderCards\n)\n\nexport const selectors = {\n  getMode,\n  getSelectedPlayerCount,\n  getSelectedSetup,\n  getConfiguration,\n  getAvailableCards,\n}\n","import { combineReducers, reduceReducers } from 'redux-loop'\nimport { LoopReducer, loop, Cmd } from 'redux-loop'\nimport { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\n\nimport * as MainContentLoading from './MainContentLoading'\nimport * as Settings from './Settings'\nimport * as Nemesis from './Nemesis'\nimport * as Mages from './Mages'\nimport * as Supply from './Supply'\nimport * as TurnOrder from './TurnOrder'\n\nexport type RootState = {\n  Settings: Settings.State\n  MainContentLoading: MainContentLoading.State\n  Nemesis: Nemesis.State\n  Mages: Mages.State\n  Supply: Supply.State\n  TurnOrder: TurnOrder.State\n}\n\nexport enum ActionTypes {\n  USER_CONFIGURATION_GET = 'ROOT/USER_CONFIGURATION_GET',\n}\n\nexport const mainActions = {\n  getUserConfiguration: () => createAction(ActionTypes.USER_CONFIGURATION_GET),\n}\n\nexport type MainAction = ActionsUnion<typeof mainActions>\n\nexport const actions = {\n  Settings: Settings.actions,\n  Main: mainActions,\n  TurnOrder: TurnOrder.actions,\n  Nemesis: Nemesis.actions,\n  Mages: Mages.actions,\n  Supply: Supply.actions,\n}\n\nexport const selectors = {\n  Settings: Settings.selectors,\n  Main: {\n    ContentLoading: MainContentLoading.selectors,\n  },\n  TurnOrder: TurnOrder.selectors,\n  Nemesis: Nemesis.selectors,\n  Mages: Mages.selectors,\n  Supply: Supply.selectors,\n}\n\nexport type RootAction =\n  | MainAction\n  | Settings.Action\n  | MainContentLoading.Action\n  | Nemesis.Action\n  | Mages.Action\n  | Supply.Action\n  | TurnOrder.Action\n\nexport const initialState = {\n  Settings: Settings.initialState,\n  MainContentLoading: MainContentLoading.initialState,\n  Nemesis: Nemesis.initialState,\n  Mages: Mages.initialState,\n  Supply: Supply.initialState,\n  TurnOrder: TurnOrder.initialState,\n}\n\nexport const MainReducer: LoopReducer<RootState, RootAction> = (\n  state: RootState = initialState,\n  action: RootAction\n) => {\n  switch (action.type) {\n    case ActionTypes.USER_CONFIGURATION_GET: {\n      return loop(\n        state,\n        Cmd.list<RootAction>([\n          Cmd.action(actions.Settings.Expansions.Selected.fetchFromDB()),\n          Cmd.action(actions.TurnOrder.Configuration.fetchFromDB()),\n          Cmd.action(actions.Settings.SupplySetups.fetchFromDB()),\n        ])\n      )\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\nexport const RootReducer = reduceReducers(\n  MainReducer,\n  combineReducers<RootState, RootAction>({\n    Settings: Settings.Reducer,\n    MainContentLoading: MainContentLoading.Reducer,\n    Nemesis: Nemesis.Reducer,\n    Mages: Mages.Reducer,\n    Supply: Supply.Reducer,\n    TurnOrder: TurnOrder.Reducer,\n  })\n)\n","import { combineReducers } from 'redux-loop'\n\nimport * as Configuration from './Configuration'\nimport * as ActiveGame from './ActiveGame'\n\nexport type State = {\n  Configuration: Configuration.State\n  ActiveGame: ActiveGame.State\n}\n\nexport type Action = Configuration.Action | ActiveGame.Action\n\nexport const initialState = {\n  Configuration: Configuration.initialState,\n  ActiveGame: ActiveGame.initialState,\n}\n\nexport const actions = {\n  Configuration: Configuration.actions,\n  ActiveGame: ActiveGame.actions,\n}\n\nexport const selectors = {\n  Configuration: Configuration.selectors,\n  ActiveGame: ActiveGame.selectors,\n}\n\nexport const Reducer = combineReducers<State, Action>({\n  Configuration: Configuration.Reducer,\n  ActiveGame: ActiveGame.Reducer,\n})\n","export const ROUTES = {\n  nemeses: 'Nemeses',\n  mages: 'Mages',\n  supply: 'Supply',\n  turnOrder: 'Turn Order',\n  settings: 'Settings',\n}\n","import styled from 'styled-components/macro'\nimport MuiCard from '@material-ui/core/Card'\n\nconst Card = styled(MuiCard)`\n  position: relative;\n`\n\nCard.displayName = 'Card'\n\nexport default Card\n","import styled from 'styled-components/macro'\nimport MuiCardContent from '@material-ui/core/CardContent'\n\nconst CardContent = styled(MuiCardContent)`\n  position: relative;\n  z-index: 1;\n`\n\nCardContent.displayName = 'CardContent'\n\nexport default CardContent\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\ntype Props = {\n  type: string\n}\n\nconst Icon = styled('i')<Props>`\n  position: absolute;\n  right: 8px;\n  bottom: -8px;\n  font-size: 120px;\n  z-index: 0;\n  opacity: 0.2;\n\n  color: ${props => props.theme.colors.cards[props.type].color};\n`\n\nconst CardTypeIcon = React.memo(({ type }: Props) => {\n  switch (type) {\n    case 'nemesis': {\n      return <Icon type={type} className=\"ra ra-lg ra-broken-skull\" />\n    }\n    default: {\n      return null\n    }\n  }\n})\n\nCardTypeIcon.displayName = 'CardTypeIcon'\n\nexport default CardTypeIcon\n","import styled from 'styled-components/macro'\nimport Typography from '@material-ui/core/Typography'\n\nconst ExpansionName = styled(Typography)``\n\nExpansionName.displayName = 'ExpansionName'\n\nexport default ExpansionName\n","import styled from 'styled-components/macro'\nimport Typography from '@material-ui/core/Typography'\n\nconst Name = styled(Typography)``\n\nName.displayName = 'Name'\n\nexport default Name\n","import React from 'react'\n\nimport config from '../../../../config'\nimport { ICreature } from '../../../../types'\n\nimport Card from './Card'\nimport CardContent from './CardContent'\nimport CardTypeIcon from './CardTypeIcon'\nimport ExpansionName from './ExpansionName'\nimport Name from './Name'\n\ntype Props = {\n  nemesis: ICreature\n}\n\nconst NemesisTile = React.memo(({ nemesis, ...rest }: Props) => {\n  return (\n    <Card>\n      <CardContent>\n        <ExpansionName color=\"textSecondary\">\n          {config.DATA[nemesis.expansion].name}\n        </ExpansionName>\n        <Name variant=\"h6\" component=\"h2\">\n          {nemesis['name']}\n        </Name>\n      </CardContent>\n      <CardTypeIcon type=\"nemesis\" />\n    </Card>\n  )\n})\n\nNemesisTile.displayName = 'NemesisTile'\n\nexport default NemesisTile\n","import styled from 'styled-components/macro'\nimport Typography from '@material-ui/core/Typography'\n\nconst EmptyNemesisHint = styled(Typography)``\n\nEmptyNemesisHint.displayName = 'EmptyNemesisHint'\n\nexport default EmptyNemesisHint\n","import styled from 'styled-components/macro'\nimport Fab from '@material-ui/core/Fab'\n\nconst ShuffleButton = styled(Fab)`\n  position: fixed;\n  bottom: 24px;\n  right: 24px;\n  z-index: 10;\n`\n\nShuffleButton.displayName = 'ShuffleButton'\n\nexport default ShuffleButton\n","import React from 'react'\n\nimport Typography from '@material-ui/core/Typography'\n\nconst NoSelectedExpansions = React.memo(() => (\n  <Typography paragraph>\n    There is currently no standalone set selected. Please activate at least one\n    standalone set in the settings.\n  </Typography>\n))\n\nNoSelectedExpansions.displayName = 'NoSelectedExpansions'\n\nexport default NoSelectedExpansions\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, actions, selectors } from '../../../Redux/Store'\n\nimport NemesisTile from './NemesisTile'\nimport EmptyNemesisHint from './EmptyNemesisHint'\n\nimport ShuffleButton from '../../ShuffleButton'\nimport NoSelectedExpansions from '../../NoSelectedExpansions'\n\n\nconst mapStateToProps = (state: RootState) => ({\n  hasStandaloneExpansionSelected: selectors.Settings.Expansions.Selected.getHasStandaloneSet(\n    state\n  ),\n  selectedExpansions: selectors.Settings.Expansions.Selected.getSelectedExpansionsArray(\n    state\n  ),\n  nemesis: selectors.Nemesis.getNemesis(state),\n})\n\nconst mapDispatchToProps = {\n  setRandomNemesis: actions.Nemesis.setRandomNemesis,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst Nemeses = React.memo(\n  ({\n    hasStandaloneExpansionSelected,\n    nemesis,\n    selectedExpansions,\n    setRandomNemesis,\n  }: Props) => {\n    if (!hasStandaloneExpansionSelected) {\n      return <NoSelectedExpansions />\n    }\n\n    return (\n      <React.Fragment>\n        {nemesis ? (\n          <NemesisTile nemesis={nemesis} />\n        ) : (\n          <EmptyNemesisHint>Tab button to spawn new nemesis!</EmptyNemesisHint>\n        )}\n        <ShuffleButton\n          onClick={() => setRandomNemesis(selectedExpansions)}\n          color=\"primary\"\n          variant=\"extended\"\n        >\n          Open Breach\n        </ShuffleButton>\n      </React.Fragment>\n    )\n  }\n)\n\nNemeses.displayName = 'Nemeses'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Nemeses)\n","import React from 'react'\n\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\n\ntype Props = {\n  selectedValue: string\n  handleAmountChange: (e: React.ChangeEvent<any>) => void\n}\n\nconst MageCountPicker = React.memo(\n  ({ selectedValue, handleAmountChange }: Props) => (\n    <Card>\n      <CardContent>\n        <FormControl component={'fieldset' as 'div'}>\n          <FormLabel>Amount of Mages</FormLabel>\n          <RadioGroup\n            aria-label=\"Amount of Mages\"\n            name=\"mageAmount\"\n            value={selectedValue}\n            onChange={handleAmountChange}\n            row={true}\n          >\n            <FormControlLabel value=\"1\" control={<Radio />} label=\"1\" />\n            <FormControlLabel value=\"2\" control={<Radio />} label=\"2\" />\n            <FormControlLabel value=\"3\" control={<Radio />} label=\"3\" />\n            <FormControlLabel value=\"4\" control={<Radio />} label=\"4\" />\n          </RadioGroup>\n        </FormControl>\n      </CardContent>\n    </Card>\n  )\n)\n\nMageCountPicker.displayName = 'MageCountPicker'\n\nexport default MageCountPicker\n","import styled from 'styled-components/macro'\n\nconst MageGridWrapper = styled('div')`\n  margin-top: 24px;\n`\n\nMageGridWrapper.displayName = 'MageGridWrapper'\n\nexport default MageGridWrapper\n","import styled from 'styled-components/macro'\nimport Grid from '@material-ui/core/Grid'\n\nconst Wrapper = styled(Grid)``\n\nWrapper.displayName = 'Wrapper'\n\nexport default Wrapper\n","import styled from 'styled-components/macro'\nimport MuiCard from '@material-ui/core/Card'\n\nconst Card = styled(MuiCard)`\n  position: relative;\n  height: 100%;\n`\n\nCard.displayName = 'Card'\n\nexport default Card\n","import styled from 'styled-components/macro'\nimport MuiCardContent from '@material-ui/core/CardContent'\n\nconst CardContent = styled(MuiCardContent)`\n  position: relative;\n  z-index: 1;\n`\n\nCardContent.displayName = 'CardContent'\n\nexport default CardContent\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\ntype Props = {\n  type: string\n}\n\nconst Icon = styled('i')<Props>`\n  position: absolute;\n  right: 8px;\n  bottom: -8px;\n  font-size: 120px;\n  z-index: 0;\n  opacity: 0.2;\n\n  color: ${props => props.theme.colors.cards[props.type].color};\n`\n\nconst CardTypeIcon = React.memo(({ type }: Props) => {\n  switch (type) {\n    case 'mage': {\n      return <Icon type={type} className=\"ra ra-lg ra-fluffy-swirl\" />\n    }\n    default: {\n      return null\n    }\n  }\n})\n\nCardTypeIcon.displayName = 'CardTypeIcon'\n\nexport default CardTypeIcon\n","import styled from 'styled-components/macro'\nimport Typography from '@material-ui/core/Typography'\n\nconst ExpansionName = styled(Typography)``\n\nExpansionName.displayName = 'ExpansionName'\n\nexport default ExpansionName\n","import styled from 'styled-components/macro'\nimport Typography from '@material-ui/core/Typography'\n\nconst Name = styled(Typography)``\n\nName.displayName = 'Name'\n\nexport default Name\n","import React from 'react'\n\nimport config from '../../../../config'\nimport { ICreature } from '../../../../types'\n\nimport Wrapper from './Wrapper'\nimport Card from './Card'\nimport CardContent from './CardContent'\nimport CardTypeIcon from './CardTypeIcon'\nimport ExpansionName from './ExpansionName'\nimport Name from './Name'\n\ntype Props = {\n  mage: ICreature\n}\n\nconst MageTile = React.memo(({ mage }: Props) => (\n  <Wrapper item xs={6} md={3}>\n    <Card>\n      <CardContent>\n        <ExpansionName color=\"textSecondary\">\n          {config.DATA[mage.expansion].name}\n        </ExpansionName>\n        <Name variant=\"h6\" component=\"h2\">\n          {mage.name}\n        </Name>\n      </CardContent>\n      <CardTypeIcon type=\"mage\" />\n    </Card>\n  </Wrapper>\n))\n\nMageTile.displayName = 'MageTile'\n\nexport default MageTile\n","import React from 'react'\n\nimport { ICreature } from '../../../../types'\n\nimport MageGridWrapper from './MageGridWrapper'\nimport MageTile from '../MageTile'\n\nimport Grid from '@material-ui/core/Grid'\n\ntype Props = {\n  mages: ReadonlyArray<ICreature>\n}\n\nconst MageList = React.memo(({ mages }: Props) => (\n  <MageGridWrapper>\n    <Grid container spacing={16}>\n      {mages.map(mage => (\n        <MageTile mage={mage} key={mage.name} />\n      ))}\n    </Grid>\n  </MageGridWrapper>\n))\n\nMageList.displayName = 'MageList'\n\nexport default MageList\n","import styled from 'styled-components/macro'\nimport Typography from '@material-ui/core/Typography'\n\nconst EmptyMageListHint = styled(Typography)`\n  margin-top: 24px;\n`\n\nEmptyMageListHint.displayName = 'EmptyMageListHint'\n\nexport default EmptyMageListHint\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, actions, selectors } from '../../../Redux/Store'\nimport { MageCount } from '../../../Redux/Store/Mages/Count'\n\nimport MageCountPicker from './MageCountPicker'\nimport MageList from './MageList'\nimport EmptyMageListHint from './EmptyMageListHint'\n\nimport ShuffleButton from '../../ShuffleButton'\nimport NoSelectedExpansions from '../../NoSelectedExpansions'\n\nconst mapStateToProps = (state: RootState) => ({\n  hasStandaloneExpansionSelected: selectors.Settings.Expansions.Selected.getHasStandaloneSet(\n    state\n  ),\n  selectedExpansions: selectors.Settings.Expansions.Selected.getSelectedExpansionsArray(\n    state\n  ),\n  mageCount: selectors.Mages.Count.getCount(state),\n  mages: selectors.Mages.Recruited.getMages(state),\n})\n\nconst mapDispatchToProps = {\n  setMageCount: actions.Mages.Count.setCount,\n  setMages: actions.Mages.Recruited.setRandomMages,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst Mages = React.memo(\n  ({\n    hasStandaloneExpansionSelected,\n    selectedExpansions,\n    mageCount,\n    setMageCount,\n    setMages,\n    mages,\n  }: Props) => {\n    if (!hasStandaloneExpansionSelected) {\n      return <NoSelectedExpansions />\n    }\n\n    const handleShuffle = () => {\n      setMages(selectedExpansions, mageCount)\n    }\n\n    const noMagesGeneratedYet = mages.length === 0\n\n    const handleAmountChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      setMageCount(parseInt(e.currentTarget.value) as MageCount)\n    }\n\n    return (\n      <React.Fragment>\n        <MageCountPicker\n          selectedValue={mageCount.toString()}\n          handleAmountChange={handleAmountChange}\n        />\n        {noMagesGeneratedYet ? (\n          <EmptyMageListHint>Tap button to recruit mages</EmptyMageListHint>\n        ) : (\n          <MageList mages={mages} />\n        )}\n        <ShuffleButton\n          onClick={handleShuffle}\n          color=\"primary\"\n          variant=\"extended\"\n        >\n          Recruit Mages\n        </ShuffleButton>\n      </React.Fragment>\n    )\n  }\n)\n\nMages.displayName = 'Mages'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Mages)\n","import React, { useState } from 'react'\n\nconst useExpandedHandling = () => {\n  // Expansion handling\n  const [expanded, setExpanded] = useState<boolean | string>(false)\n\n  const createExpansionHandler = (panel: string) => (\n    event: React.ChangeEvent<any> | undefined,\n    expanded: boolean | string\n  ) => {\n    const panelExpanded = expanded ? panel : false\n    setExpanded(panelExpanded)\n  }\n\n  return { expanded, createExpansionHandler, setExpanded }\n}\n\nexport default useExpandedHandling\n","import styled from 'styled-components/macro'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\n\nconst StyledExpansionPanel = styled(ExpansionPanel)`\n  border-radius: 4px;\n  margin-bottom: 15px;\n\n  &:before {\n    display: none;\n  }\n`\n\nStyledExpansionPanel.displayName = 'StyledExpansionPanel'\n\nexport default StyledExpansionPanel\n","import styled from 'styled-components/macro'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\n\nconst StyledExpansionPanelSummary = styled(ExpansionPanelSummary)`\n  min-height: 48px;\n`\n\nStyledExpansionPanelSummary.displayName = 'StyledExpansionPanelSummary'\n\nexport default StyledExpansionPanelSummary\n","import Typography from '@material-ui/core/Typography'\nimport styled from 'styled-components/macro'\n\nconst Heading = styled(Typography)`\n  font-size: ${props => props.theme.heading.fontSize};\n`\n\nexport default Heading\n","import React from 'react'\n\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\n\nimport StyledExpansionPanel from './StyledExpansionPanel'\nimport StyledExpansionPanelSummary from './StyledExpansionPanelSummary'\n\nimport Heading from '../Heading'\n\ntype Props = {\n  expanded: string | boolean\n  expansionKey: string\n  summary: string\n  children: React.ReactNode\n  expansionHandler: (\n    event: React.ChangeEvent<any> | undefined,\n    expanded: boolean | string\n  ) => void\n}\n\nconst ExpansionPanel = React.memo(\n  ({ children, expanded, expansionHandler, expansionKey, summary }: Props) => (\n    <StyledExpansionPanel\n      expanded={expanded === expansionKey}\n      onChange={expansionHandler}\n    >\n      <StyledExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n        <Heading>{summary}</Heading>\n      </StyledExpansionPanelSummary>\n      <ExpansionPanelDetails>{children}</ExpansionPanelDetails>\n    </StyledExpansionPanel>\n  )\n)\n\nExpansionPanel.displayName = 'ExpansionPanel'\n\nexport default ExpansionPanel\n","import styled from 'styled-components/macro'\n\nconst ListWrapper = styled('div')`\n  margin-top: 24px;\n`\n\nListWrapper.displayName = 'ListWrapper'\n\nexport default ListWrapper\n","//////////\n// DATA //\n//////////\n\nexport interface ICreature {\n  expansion: string\n  name: string\n  id: string\n}\n\nexport const CARD_TYPES = ['Gem', 'Relic', 'Spell', 'EMPTY'] as const\nexport type CardType = typeof CARD_TYPES[number]\n\nexport interface ICard {\n  type: CardType\n  expansion: string\n  name: string\n  id: string\n  cost: number\n}\n\nexport type ExpansionType = 'standalone' | 'mini' | 'promo'\n\nexport type EntityType = 'nemeses' | 'mages' | 'cards'\nexport type Entity = ICard | ICreature\n\nexport interface IExpansion {\n  id: string\n  name: string\n  type: ExpansionType\n  nemeses: Array<ICreature>\n  mages: Array<ICreature>\n  cards: Array<ICard>\n}\n\nexport interface IExpansionData {\n  [key: string]: IExpansion\n}\n\n////////////\n// Market //\n////////////\n\nexport type MarketType = 'official' | 'custom'\nexport const THRESHOLD_OPERATIONS = ['<', '>', '=', '<=', '>='] // Note: should not be a const, because we want to treat it as regular list\nexport const SUPPLY_OPERATIONS = [\n  ...THRESHOLD_OPERATIONS,\n  'ANY',\n  'OR',\n  'NoOp',\n] as const\nexport type Operation = typeof SUPPLY_OPERATIONS[number]\n\nexport interface IBluePrint {\n  id?: string // the optional id is only used for blueprints used inside custom setups\n  type: CardType\n  operation: Operation\n  threshold?: number\n  values?: Array<number>\n}\n\nexport interface IEmptyBluePrint extends IBluePrint {\n  type: 'EMPTY'\n  operation: 'NoOp'\n}\nexport type Slot = IBluePrint | IEmptyBluePrint\n\nexport type IMarketSetup = Readonly<{\n  id: string\n  name: string\n  type: MarketType\n  default?: boolean\n  active: boolean\n  tiles: Array<Slot>\n  isDirty?: boolean // Flag to mark new/edited items\n  isNew?: boolean // Flag to mark if an item has already been actively saved\n}>\n\nexport type IMarketSetups = Readonly<{ [key: string]: IMarketSetup }>\n\n///////////////\n// TurnOrder //\n///////////////\n\nexport type Player =\n  | 'Player 1'\n  | 'Player 2'\n  | 'Player 3'\n  | 'Player 4'\n  | 'Player 1/2'\n  | 'Player 3/4'\n  | 'Nemesis'\n  | 'Wild'\n  | 'Wild Token'\n  | 'Maelstrom Assault'\n  | 'Blitz'\n\nexport type TurnOrderCardType =\n  | 'player1'\n  | 'player2'\n  | 'player3'\n  | 'player4'\n  | 'player12'\n  | 'player34'\n  | 'wild'\n  | 'wild-token'\n  | 'nemesis'\n  | 'maelstrom'\n  | 'blitz'\n\nexport interface ITurnOrderCard {\n  id: string\n  name: Player\n  type: TurnOrderCardType\n}\n\nexport interface ITurnOrderSetups {\n  [key: string]: ITurnOrderPlayerCount\n}\n\nexport interface ITurnOrderPlayerCount {\n  id: string\n  name: string\n  variations: ITurnOrderVariations\n}\n\nexport interface ITurnOrderVariations {\n  [key: string]: ITurnOrderSetup\n}\n\nexport interface ITurnOrderSetup {\n  id: string\n  name: string\n  turnOrderCards: Array<ITurnOrderCard>\n}\n\nexport const isCard = (card: ICard | Slot): card is ICard => {\n  if (!card) return false\n  return (card as ICard).name !== undefined\n}\n\nexport const MODES = ['Default', 'Maelstrom', 'Blitz'] as const\nexport type Mode = typeof MODES[number] // automatically creates union from tuple\n","import styled from 'styled-components/macro'\nimport MuiCard from '@material-ui/core/Card'\n\ntype Props = {\n  type: string\n}\n\nconst Card = styled(MuiCard)<Props>`\n  background: ${props => props.theme.colors.cards[props.type].background};\n  min-width: 30px;\n  min-height: 148px;\n  position: relative;\n  height: 100%;\n`\n\nCard.displayName = 'Card'\n\nexport default Card\n","import styled from 'styled-components/macro'\nimport MuiCardContent from '@material-ui/core/CardContent'\n\nconst CardContent = styled(MuiCardContent)`\n  position: relative;\n  z-index: 1;\n`\n\nCardContent.displayName = 'CardContent'\n\nexport default CardContent\n","import styled from 'styled-components/macro'\nimport Typography from '@material-ui/core/Typography'\n\nconst CardName = styled(Typography)`\n  font-weight: bold;\n`\n\nCardName.displayName = 'CardName'\n\nexport default CardName\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\ntype Props = {\n  type: string\n}\n\nconst Icon = styled('i')<Props>`\n  position: absolute;\n  right: 8px;\n  bottom: -8px;\n  font-size: 120px;\n  z-index: 0;\n  opacity: 0.2;\n\n  color: ${props => props.theme.colors.cards[props.type].color};\n`\n\nconst CardTypeIcon = React.memo(({ type }: Props) => {\n  switch (type) {\n    case 'gem': {\n      return <Icon type={type} className=\"ra ra-lg ra-crystals\" />\n    }\n    case 'relic': {\n      return <Icon type={type} className=\"ra ra-lg ra-crystal-wand\" />\n    }\n    case 'spell': {\n      return <Icon type={type} className=\"ra ra-lg ra-scroll-unfurled\" />\n    }\n    default: {\n      return null\n    }\n  }\n})\n\nCardTypeIcon.displayName = 'CardTypeIcon'\n\nexport default CardTypeIcon\n","import styled from 'styled-components/macro'\nimport ListItem from '@material-ui/core/ListItem'\n\nconst CardInfoItem = styled(ListItem)`\n  padding: 0;\n`\n\nCardInfoItem.displayName = 'CardInfoItem'\n\nexport default CardInfoItem\n","import styled from 'styled-components/macro'\nimport Typography from '@material-ui/core/Typography'\n\nconst Info = styled(Typography)`\n  display: inline-block;\n`\n\nInfo.displayName = 'Info'\n\nexport default Info\n","import styled from 'styled-components/macro'\nimport Typography from '@material-ui/core/Typography'\n\nconst InfoLabel = styled(Typography)`\n  margin-right: 8px;\n  display: inline-block;\n`\n\nInfoLabel.displayName = 'InfoLabel'\n\nexport default InfoLabel\n","import React from 'react'\n\nimport { Slot, ICard, isCard } from '../../../../types'\n\nimport CardInfoItem from './CardInfoItem'\nimport Info from './Info'\nimport InfoLabel from './InfoLabel'\n\ntype Props = {\n  card: Slot | ICard\n}\n\nconst CostInfo = React.memo(({ card }: Props) => (\n  <CardInfoItem>\n    <InfoLabel color=\"textSecondary\">Cost:</InfoLabel>\n    <Info component=\"span\">{isCard(card) ? card.cost : '-'}</Info>\n  </CardInfoItem>\n))\n\nCostInfo.displayName = 'CostInfo'\n\nexport default CostInfo\n","import styled from 'styled-components/macro'\nimport Typography from '@material-ui/core/Typography'\n\nconst CostOperation = styled(Typography)``\n\nCostOperation.displayName = 'CostOperation'\n\nexport default CostOperation\n","import React from 'react'\n\nimport config from '../../../../config'\nimport { Slot, ICard, isCard } from '../../../../types'\n\nimport CardInfoItem from './CardInfoItem'\nimport Info from './Info'\nimport InfoLabel from './InfoLabel'\n\ntype Props = {\n  card: Slot | ICard\n}\n\nconst ExpansionInfo = React.memo(({ card }: Props) => (\n  <CardInfoItem>\n    <InfoLabel color=\"textSecondary\">Set:</InfoLabel>\n    <Info component=\"span\">\n      {isCard(card) && config.DATA[card.expansion] !== undefined\n        ? config.DATA[card.expansion].name\n        : '-'}\n    </Info>\n  </CardInfoItem>\n))\n\nExpansionInfo.displayName = 'ExpansionInfo'\n\nexport default ExpansionInfo\n","import React from 'react'\n\nimport Grid from '@material-ui/core/Grid'\nimport List from '@material-ui/core/List'\n\nimport { Slot, ICard, isCard } from '../../../../types'\n\nimport { getOperationString } from '../../../../Redux/helpers'\n\nimport Card from './Card'\nimport CardContent from './CardContent'\nimport CardName from './CardName'\nimport CardTypeIcon from './CardTypeIcon'\nimport CostInfo from './CostInfo'\nimport CostOperation from './CostOperation'\nimport ExpansionInfo from './ExpansionInfo'\n\ntype Props = {\n  tileSetup: Slot\n  card: Slot | ICard\n}\n\nconst MarketTile = React.memo(({ tileSetup, card, ...rest }: Props) => {\n  const { type, operation, values, threshold } = tileSetup\n\n  return (\n    <Grid item xs={6} md={4} {...rest}>\n      <Card type={type.toLowerCase()}>\n        <CardContent>\n          <CostOperation color=\"textSecondary\">\n            {type} {getOperationString(operation, values, threshold)}\n          </CostOperation>\n          <CardName component=\"p\">{isCard(card) ? card.name : '-'}</CardName>\n          <List>\n            <ExpansionInfo card={card} />\n            <CostInfo card={card} />\n          </List>\n        </CardContent>\n        <CardTypeIcon type={type.toLowerCase()} />\n      </Card>\n    </Grid>\n  )\n})\n\nMarketTile.displayName = 'MarketTile'\n\nexport default MarketTile\n","import React from 'react'\n\nimport Grid from '@material-ui/core/Grid'\n\nimport { IMarketSetup, ICard, Slot } from '../../../types'\n\nimport ListWrapper from './ListWrapper'\nimport MarketTile from './MarketTile'\n\nconst renderTiles = (\n  marketSetup: IMarketSetup,\n  cards: ReadonlyArray<Slot | ICard>\n) => {\n  return marketSetup.tiles.map((tileSetup, i) => (\n    <MarketTile key={i} tileSetup={tileSetup} card={cards[i]} />\n  ))\n}\n\ntype Props = {\n  marketSetup: IMarketSetup\n  cards: ReadonlyArray<Slot | ICard>\n}\n\nconst SupplyList = React.memo(({ marketSetup, cards }: Props) => (\n  <ListWrapper>\n    <Grid container spacing={16}>\n      {renderTiles(marketSetup, cards)}\n    </Grid>\n  </ListWrapper>\n))\n\nSupplyList.displayName = 'SupplyList'\n\nexport default SupplyList\n","import styled from 'styled-components/macro'\n\nconst MarketOptionsWrapper = styled('div')`\n  margin: 0 -8px;\n  display: flex;\n  flex-wrap: wrap;\n`\n\nMarketOptionsWrapper.displayName = 'MarketOptionsWrapper'\n\nexport default MarketOptionsWrapper\n","import styled from 'styled-components/macro'\n\ntype Props = {\n  selected: boolean\n}\n\nconst Wrapper = styled('div')<Props>`\n  border: 1px solid\n    ${props =>\n      props.selected\n        ? props.theme.colors.secondary.main\n        : 'rgba(0, 0, 0, 0.12)'};\n  padding: 4px 8px;\n  display: inline-block;\n  width: calc(100% - 16px);\n  margin: 24px 8px 0;\n  cursor: pointer;\n\n  &:first-child {\n    margin-top: 0;\n  }\n`\n\nWrapper.displayName = 'Wrapper'\n\nexport default Wrapper\n","import styled from 'styled-components/macro'\n\nconst TileList = styled('ul')`\n  margin: 0 -4px;\n  list-style: none;\n  padding: 0;\n  display: flex;\n  flex-wrap: wrap;\n  width: calc(100% + 8px);\n`\n\nTileList.displayName = 'TileList'\n\nexport default TileList\n","import styled from 'styled-components/macro'\n\ntype Props = {\n  type: string\n}\n\nconst TileListItem = styled('li')<Props>`\n  margin: 4px;\n  min-width: 36px;\n  width: calc(33.33333% - 8px);\n  height: 36px;\n  border: 1px solid rgba(0, 0, 0, 0.12);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  color: ${props => props.theme.colors.text.secondary};\n  background: ${props => props.theme.colors.cards[props.type].background};\n  font-family: 'Roboto', sans-serif;\n\n  @media all and (min-width: 502px) {\n    width: calc(11.11111% - 8px);\n  }\n`\n\nTileListItem.displayName = 'TileListItem'\n\nexport default TileListItem\n","import styled from 'styled-components/macro'\n\nimport Typography from '@material-ui/core/Typography'\n\ntype Props = {\n  selected: boolean\n}\n\nconst SupplyName = styled(Typography)<Props>`\n  color: ${props =>\n    props.selected\n      ? props.theme.colors.secondary.main\n      : props.theme.colors.text.secondary};\n`\n\nSupplyName.displayName = 'SupplyName'\n\nexport default SupplyName\n","import React from 'react'\n\nimport { getOperationString } from '../../Redux/helpers'\nimport { IMarketSetup } from '../../types'\n\nimport Wrapper from './Wrapper'\nimport TileList from './TileList'\nimport TileListItem from './TileListItem'\nimport SupplyName from './SupplyName'\n\n// FIXME tiles are untyped!!!\nconst renderMarketSetupItems = (tiles: any) =>\n  tiles.map((tile: any, index: number) => (\n    <TileListItem key={index} type={tile.type.toLowerCase()}>\n      {getOperationString(tile.operation, tile.values, tile.threshold)}\n    </TileListItem>\n  ))\n\ntype Props = {\n  clickHandler: (event: any) => void\n  setup: IMarketSetup\n  selected?: boolean\n  showName?: boolean\n  className?: string\n}\n\nconst SupplyPreview = React.memo(\n  ({\n    clickHandler,\n    setup,\n    selected = false,\n    showName = true,\n    className,\n  }: Props) => {\n    if (!setup.tiles || setup.tiles.length < 1) {\n      return null\n    }\n\n    return (\n      <Wrapper\n        className={className}\n        key={setup.id}\n        onClick={clickHandler}\n        data-value={setup.id}\n        selected={selected}\n      >\n        <TileList>{renderMarketSetupItems(setup.tiles)}</TileList>\n        {showName ? (\n          <SupplyName variant=\"caption\" selected={selected}>\n            {setup.name}\n          </SupplyName>\n        ) : null}\n      </Wrapper>\n    )\n  }\n)\n\nSupplyPreview.displayName = 'SupplyPreview'\n\nexport default SupplyPreview\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, selectors, actions } from '../../../Redux/Store'\n\nimport MarketOptionsWrapper from './MarketOptionsWrapper'\nimport SupplyPreview from '../../SupplyPreview'\n\nconst getCustomAndPredefined = selectors.Settings.SupplySetups.makeGetCustomAndPredefined()\nconst mapStateToProps = (state: RootState) => ({\n  activeMarketSetups: selectors.Settings.SupplySetups.getActiveSetups(state),\n  allMarketSetups: getCustomAndPredefined(state),\n  selectedSetup: selectors.Supply.Selection.getSelectedSetup(state),\n})\n\nconst mapDispatchToProps = {\n  selectSetup: actions.Supply.Selection.selectSetup,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    expansionHandler: (\n      event: React.ChangeEvent<any> | undefined,\n      expanded: boolean | string\n    ) => void\n  }\n\nconst MarketOptions = React.memo(\n  ({\n    activeMarketSetups,\n    allMarketSetups,\n    expansionHandler,\n    selectSetup,\n    selectedSetup,\n  }: Props) => (\n    <MarketOptionsWrapper>\n      {activeMarketSetups.map(setup => (\n        <SupplyPreview\n          key={setup.id}\n          setup={setup}\n          clickHandler={(event: any) => {\n            expansionHandler(undefined, false)\n            selectSetup(allMarketSetups[event.currentTarget.dataset.value])\n          }}\n          selected={selectedSetup.id === setup.id}\n        />\n      ))}\n    </MarketOptionsWrapper>\n  )\n)\n\nMarketOptions.displayName = 'MarketOptions'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MarketOptions)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, actions, selectors } from '../../../Redux/Store'\n\nimport useExpandedHandling from '../../../hooks/useExpansionHandling'\n\nimport ExpansionPanel from '../../ExpansionPanel'\nimport ShuffleButton from '../../ShuffleButton'\nimport NoSelectedExpansions from '../../NoSelectedExpansions'\n\nimport SupplyList from './SupplyList'\nimport MarketOptions from './MarketOptions'\n\nconst mapStateToProps = (state: RootState) => ({\n  hasStandaloneExpansionSelected: selectors.Settings.Expansions.Selected.getHasStandaloneSet(\n    state\n  ),\n  selectedExpansions: selectors.Settings.Expansions.Selected.getSelectedExpansionsArray(\n    state\n  ),\n  marketSetup: selectors.Supply.Selection.getSelectedSetup(state),\n  cards: selectors.Supply.RandomSetup.getCards(state),\n})\n\nconst mapDispatchToProps = {\n  createMarket: actions.Supply.RandomSetup.createMarket,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst Supply = React.memo(\n  ({\n    cards,\n    createMarket,\n    hasStandaloneExpansionSelected,\n    marketSetup,\n    selectedExpansions,\n  }: Props) => {\n    const { expanded, createExpansionHandler } = useExpandedHandling()\n    const expansionKey = 'setup'\n    const expansionHandler = createExpansionHandler(expansionKey)\n\n    if (!hasStandaloneExpansionSelected) {\n      return <NoSelectedExpansions />\n    }\n\n    const handleShuffle = () => {\n      createMarket(selectedExpansions, marketSetup.tiles)\n    }\n\n    return (\n      <React.Fragment>\n        <ExpansionPanel\n          expanded={expanded}\n          expansionKey={expansionKey}\n          summary={marketSetup.name}\n          expansionHandler={expansionHandler}\n        >\n          <MarketOptions expansionHandler={expansionHandler} />\n        </ExpansionPanel>\n        <SupplyList marketSetup={marketSetup} cards={cards} />\n        <ShuffleButton\n          onClick={handleShuffle}\n          color=\"primary\"\n          variant=\"extended\"\n        >\n          Create Market\n        </ShuffleButton>\n      </React.Fragment>\n    )\n  }\n)\n\nSupply.displayName = 'Supply'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Supply)\n","import React from 'react'\n\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\n\ntype BaseProps = {\n  checked: boolean\n  item: string\n  label: string\n  changeHandler: (selection: string) => void\n}\n\nexport type RenderComponent = React.ComponentType<BaseProps>\n\ntype Props = BaseProps & {\n  Component?: RenderComponent\n}\n\nconst DefaultCheckbox = React.memo(\n  ({ checked, item, label, changeHandler }: BaseProps) => (\n    <FormControlLabel\n      control={\n        <Checkbox\n          checked={checked}\n          onChange={() => changeHandler(item)}\n          value={item}\n        />\n      }\n      label={label}\n    />\n  )\n)\n\nconst Item = React.memo(({ Component = DefaultCheckbox, ...rest }: Props) => {\n  return <Component {...rest} />\n})\n\nItem.displayName = 'Item'\n\nexport default Item\n","import React from 'react'\n\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormLabel from '@material-ui/core/FormLabel'\n\nimport Item, { RenderComponent } from './Item'\n\ntype Item = {\n  name: string\n  label: string\n  checked: boolean\n}\n\nconst renderCheckboxes = (\n  items: ReadonlyArray<Item>,\n  handleChange: (set: string) => void,\n  Component?: RenderComponent\n) =>\n  items.map(item => (\n    <Item\n      Component={Component}\n      key={item.name}\n      item={item.name}\n      label={item.label}\n      checked={item.checked}\n      changeHandler={handleChange}\n    />\n  ))\n\ntype Props = {\n  label: string\n  items: ReadonlyArray<Item>\n  changeHandler: (selection: string) => void\n  Component?: RenderComponent\n  children?: React.ReactNode\n}\n\nconst CheckboxList = React.memo(\n  ({ children, label, items, changeHandler, Component, ...rest }: Props) => (\n    <React.Fragment>\n      <FormLabel {...rest} style={{ marginTop: '24px' }}>\n        {label}\n      </FormLabel>\n      <FormGroup {...rest}>\n        {children}\n        {renderCheckboxes(items, changeHandler, Component)}\n      </FormGroup>\n    </React.Fragment>\n  )\n)\n\nCheckboxList.displayName = 'CheckboxList'\n\nexport default CheckboxList\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormLabel from '@material-ui/core/FormLabel'\n\nimport config from '../../../../config'\nimport { RootState, selectors, actions } from '../../../../Redux/Store'\n\nimport CheckboxList from '../../../CheckboxList'\n\nconst mapStateToProps = (state: RootState) => ({\n  standalones: selectors.Settings.Expansions.getStandaloneExpansions,\n  miniExpansions: selectors.Settings.Expansions.getMiniExpansions,\n  promos: selectors.Settings.Expansions.getPromos,\n  selectedExpansions: selectors.Settings.Expansions.Selected.getSelectedExpansionsState(\n    state\n  ),\n  allSetsSelected: selectors.Settings.Expansions.Selected.getAllSetsSelected(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  handleSelectAll: actions.Settings.Expansions.Selected.toggleAll,\n  handleChange: actions.Settings.Expansions.Selected.toggleExpansion,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst ActiveSets = React.memo(\n  ({\n    allSetsSelected,\n    handleSelectAll,\n    standalones,\n    miniExpansions,\n    promos,\n    selectedExpansions,\n    handleChange,\n  }: Props) => {\n    const expansionsToItems = (expansions: ReadonlyArray<string>) =>\n      expansions.map(expansion => ({\n        name: expansion,\n        item: expansion,\n        label: config.DATA[expansion].name,\n        checked: selectedExpansions[expansion],\n      }))\n\n    return (\n      <FormControl component={'fieldset' as 'div'}>\n        <FormLabel />\n        <FormGroup style={{ marginBottom: '20px' }}>\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={allSetsSelected}\n                onChange={handleSelectAll}\n                value={allSetsSelected ? 'Deselect All' : 'Select All'}\n              />\n            }\n            label={allSetsSelected ? 'Deselect All' : 'Select All'}\n          />\n        </FormGroup>\n        <CheckboxList\n          label=\"Standalone Sets\"\n          items={expansionsToItems(standalones)}\n          changeHandler={handleChange}\n        />\n        <CheckboxList\n          label=\"Mini Expansions\"\n          items={expansionsToItems(miniExpansions)}\n          changeHandler={handleChange}\n        />\n        <CheckboxList\n          label=\"Promos\"\n          items={expansionsToItems(promos)}\n          changeHandler={handleChange}\n        />\n      </FormControl>\n    )\n  }\n)\n\nActiveSets.displayName = 'ActiveSets'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ActiveSets)\n","import React from 'react'\n\nimport useExpansionHandling from '../../../../hooks/useExpansionHandling'\nimport ExpansionPanel from '../../../ExpansionPanel'\nimport ActiveSets from './ActiveSets'\n\ntype Props = {}\n\nconst Expansions = React.memo(() => {\n  const { expanded, createExpansionHandler } = useExpansionHandling()\n  const expansionKey = 'sets'\n  const expansionHandler = createExpansionHandler(expansionKey)\n\n  return (\n    <ExpansionPanel\n      expanded={expanded}\n      expansionKey={expansionKey}\n      expansionHandler={expansionHandler}\n      summary=\"Expansions\"\n    >\n      <ActiveSets />\n    </ExpansionPanel>\n  )\n})\n\nExpansions.displayName = 'Expansions'\n\nexport default Expansions\n","import styled from 'styled-components'\n\nimport SupplyPreview from '../../../SupplyPreview'\n\nconst SettingsSupplyPreview = styled(SupplyPreview)`\n  width: 100%;\n  margin: 0;\n`\n\nexport default SettingsSupplyPreview\n","import styled from 'styled-components'\n\nconst CheckboxWithPreviewWrapper = styled('div')`\n  margin-top: 8px;\n\n  &:first-child {\n    margin-top: 0;\n  }\n`\n\nexport default CheckboxWithPreviewWrapper\n","import React from 'react'\n\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\n\nimport { IMarketSetup } from '../../../../types'\n\nimport SettingsSupplyPreview from './SettingsSupplyPreview'\nimport CheckboxWithPreviewWrapper from './CheckboxWithPreviewWrapper'\n\ntype Props = {\n  changeHandler: (selection: string) => void\n  checked: boolean\n  item: string\n  label: string\n  setup?: IMarketSetup\n  children?: React.ReactNode\n}\n\nconst CheckboxWithPreview = React.memo(\n  ({ changeHandler, checked, item, label, setup, children }: Props) => (\n    <CheckboxWithPreviewWrapper>\n      <FormControlLabel\n        control={\n          <Checkbox\n            checked={checked}\n            onChange={() => changeHandler(item)}\n            value={item}\n          />\n        }\n        label={label}\n      />\n      {children}\n      {setup ? (\n        <SettingsSupplyPreview\n          clickHandler={() => changeHandler(item)}\n          setup={setup}\n          showName={false}\n        />\n      ) : null}\n    </CheckboxWithPreviewWrapper>\n  )\n)\n\nCheckboxWithPreview.displayName = 'CheckboxWithPreview'\n\nexport default CheckboxWithPreview\n","import styled from 'styled-components'\nimport { TextField } from '@material-ui/core'\n\nconst InputField = styled(TextField)`\n  margin-top: 0;\n  margin-bottom: 24px;\n`\n\nexport default InputField\n","import React from 'react'\nimport styled from 'styled-components'\nimport MuiSelect from '@material-ui/core/Select'\nimport MuiFormControl from '@material-ui/core/FormControl'\n\nconst Wrapper = styled(MuiFormControl)`\n  width: 50%;\n`\n\nconst Select = styled(MuiSelect)`\n  margin: 0 8px 16px;\n`\n\nconst SelectField = React.memo((props: any) => (\n  <Wrapper>\n    <Select {...props} />\n  </Wrapper>\n))\n\nexport default SelectField\n","import styled from 'styled-components'\n\nconst SelectFieldsWrapper = styled('div')`\n  display: flex;\n  margin: 0 -8px;\n`\n\nexport default SelectFieldsWrapper\n","import styled from 'styled-components'\n\nconst BluePrintWrapper = styled('div')`\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n\n  background-color: #ecf0f1;\n  padding: 30px 20px 15px;\n  margin: 8px 0;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`\n\nexport default BluePrintWrapper\n","import React from 'react'\nimport styled from 'styled-components'\nimport IconButton from '@material-ui/core/IconButton'\nimport CancelIcon from '@material-ui/icons/Cancel'\n\nconst CancelButton = React.memo((props: any) => (\n  <IconButton\n    className={props.className}\n    color=\"secondary\"\n    aria-label=\"Cancel\"\n    onClick={props.onClick}\n  >\n    <CancelIcon />\n  </IconButton>\n))\n\nconst StyledCancelButton = styled(CancelButton)`\n  position: absolute;\n  top: -5px;\n  right: -5px;\n`\n\nexport default StyledCancelButton\n","import React from 'react'\nimport FormControl from '@material-ui/core/FormControl'\nimport * as types from '../../../../../types'\n\nimport InputField from './InputField'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport SelectField from './SelectField'\nimport SelectFieldsWrapper from './SelectFieldsWrapper'\nimport BluePrintWrapper from './BluePrintWrapper'\nimport CancelButton from './CancelButton'\n\ntype Props = {\n  bluePrint: types.IBluePrint\n  dispatch: Function\n}\n\n// TODO refactor this file!\n\nconst isThresholdOperation = (operation: types.Operation) =>\n  types.THRESHOLD_OPERATIONS.includes(operation)\n\nconst renderInputFieldsByOperation = (\n  bluePrint: types.IBluePrint,\n  dispatch: Function\n) => {\n  if (isThresholdOperation(bluePrint.operation)) {\n    return (\n      <FormControl>\n        <InputField\n          id={`threshold-${bluePrint.id}`}\n          label=\"Threshold\"\n          value={bluePrint.threshold || ''}\n          onChange={(e: React.ChangeEvent<{ name?: string; value: string }>) =>\n            dispatch({\n              type: 'UPDATE',\n              payload: {\n                ...bluePrint,\n                threshold: parseInt(e.target.value || '0'),\n              },\n            })\n          }\n          type=\"number\"\n          margin=\"normal\"\n        />\n      </FormControl>\n    )\n  }\n\n  // TODO allow more the two fields to be combined with logical or\n  if (bluePrint.operation === 'OR') {\n    const valueA =\n      bluePrint && bluePrint.values && bluePrint.values[0]\n        ? bluePrint.values[0].toString()\n        : ''\n    const valueB =\n      bluePrint && bluePrint.values && bluePrint.values[1]\n        ? bluePrint.values[1].toString()\n        : ''\n\n    return (\n      <React.Fragment>\n        <FormControl>\n          <InputField\n            id={`value-1-${bluePrint.id}`}\n            label=\"Value 1\"\n            value={valueA}\n            onChange={(\n              e: React.ChangeEvent<{ name?: string; value: string }>\n            ) =>\n              dispatch({\n                type: 'UPDATE',\n                payload: {\n                  ...bluePrint,\n                  values: [parseInt(e.target.value || '0'), parseInt(valueB)],\n                },\n              })\n            }\n            type=\"number\"\n            margin=\"normal\"\n          />\n        </FormControl>\n        <FormControl>\n          <InputField\n            id={`value-2-${bluePrint.id}`}\n            label=\"Value 2\"\n            value={valueB}\n            onChange={(\n              e: React.ChangeEvent<{ name?: string; value: string }>\n            ) =>\n              dispatch({\n                type: 'UPDATE',\n                payload: {\n                  ...bluePrint,\n                  values: [parseInt(valueA), parseInt(e.target.value || '0')],\n                },\n              })\n            }\n            type=\"number\"\n            margin=\"normal\"\n          />\n        </FormControl>\n      </React.Fragment>\n    )\n  }\n\n  return null\n}\n\nconst BluePrint = React.memo(({ bluePrint, dispatch }: Props) => {\n  return (\n    <BluePrintWrapper>\n      <CancelButton\n        onClick={() =>\n          dispatch({\n            type: 'DELETE',\n            payload: {\n              id: bluePrint.id,\n            },\n          })\n        }\n      />\n      <SelectFieldsWrapper>\n        <SelectField\n          key=\"type\"\n          value={bluePrint.type}\n          onChange={(e: React.ChangeEvent<{ name?: string; value: unknown }>) =>\n            dispatch({\n              type: 'UPDATE',\n              payload: {\n                ...bluePrint,\n                type: e.target.value,\n              },\n            })\n          }\n          inputProps={{\n            name: 'type',\n            id: `type-${bluePrint.id}`,\n          }}\n        >\n          {types.CARD_TYPES.filter(TYPE => TYPE !== 'EMPTY').map(TYPE => (\n            <MenuItem key={TYPE} value={TYPE}>\n              {TYPE}\n            </MenuItem>\n          ))}\n        </SelectField>\n        <SelectField\n          key=\"operation\"\n          value={bluePrint.operation}\n          onChange={(e: React.ChangeEvent<{ name?: string; value: unknown }>) =>\n            dispatch({\n              type: 'UPDATE',\n              payload: {\n                ...bluePrint,\n                operation: e.target.value,\n              },\n            })\n          }\n          inputProps={{\n            name: 'operation',\n            id: `operation-${bluePrint.id}`,\n          }}\n        >\n          {types.SUPPLY_OPERATIONS.filter(\n            OPERATION => OPERATION !== 'NoOp'\n          ).map(OPERATION => (\n            <MenuItem key={OPERATION} value={OPERATION}>\n              {OPERATION}\n            </MenuItem>\n          ))}\n        </SelectField>\n      </SelectFieldsWrapper>\n      {renderInputFieldsByOperation(bluePrint, dispatch)}\n    </BluePrintWrapper>\n  )\n})\n\nexport default BluePrint\n","import styled from 'styled-components'\n\nconst ListWrapper = styled('div')`\n  display: flex;\n  flex-direction: column;\n`\n\nexport default ListWrapper\n","import React from 'react'\nimport * as types from '../../../../../types'\nimport Button from '@material-ui/core/Button'\n\nimport BluePrint from './BluePrint'\nimport ListWrapper from './ListWrapper'\n\ntype Props = {\n  bluePrintList: types.Slot[]\n  dispatch: Function\n}\n\nconst BluePrintList = React.memo(({ bluePrintList, dispatch }: Props) => {\n  return (\n    <ListWrapper>\n      <Button\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={() => dispatch({ type: 'ADD' })}\n      >\n        Add Supply tile\n      </Button>\n      {bluePrintList.map(bluePrint => (\n        <BluePrint\n          key={bluePrint.id}\n          bluePrint={bluePrint}\n          dispatch={dispatch}\n        />\n      ))}\n    </ListWrapper>\n  )\n})\n\nexport default BluePrintList\n","import styled from 'styled-components'\n\nconst MainControlsWrapper = styled('div')`\n  display: flex;\n  align-items: baseline;\n`\n\nexport default MainControlsWrapper\n","import React from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport SaveIcon from '@material-ui/icons/Save'\nimport CancelIcon from '@material-ui/icons/Cancel'\n\nimport * as types from '../../../../../types'\n\nimport InputField from './InputField'\nimport MainControlsWrapper from './MainControlsWrapper'\n\ntype Props = {\n  bluePrintList: types.IBluePrint[]\n  cancelEdit: Function\n  setup: types.IMarketSetup\n  setupName: string\n  setSetupName: Function\n  saveCustomSetup: Function\n}\n\nconst MainControls = React.memo(\n  ({\n    bluePrintList,\n    cancelEdit,\n    setup,\n    setupName,\n    setSetupName,\n    saveCustomSetup,\n  }: Props) => {\n    return (\n      <MainControlsWrapper>\n        <InputField\n          id=\"setup-name\"\n          label=\"Setup Name\"\n          placeholder=\"Setup Name\"\n          value={setupName}\n          onChange={e => setSetupName(e.currentTarget.value)}\n          margin=\"normal\"\n        />\n        <IconButton\n          color=\"primary\"\n          aria-label=\"Save\"\n          onClick={() =>\n            saveCustomSetup({ ...setup, name: setupName, tiles: bluePrintList })\n          }\n        >\n          <SaveIcon />\n        </IconButton>\n        <IconButton\n          color=\"secondary\"\n          aria-label=\"Cancel\"\n          onClick={() => cancelEdit(setup.id)}\n        >\n          <CancelIcon />\n        </IconButton>\n      </MainControlsWrapper>\n    )\n  }\n)\n\nMainControls.displayName = 'MainControls'\n\nexport default MainControls\n","import styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border: 1px solid rgba(0, 0, 0, 0.12);\n\n  padding: 16px;\n  margin: 8px 0;\n`\n\nexport default Wrapper\n","import React, { useState, useReducer } from 'react'\nimport shortid from 'shortid'\nimport { connect } from 'react-redux'\n\nimport * as types from '../../../../../types'\nimport { RootState, actions } from '../../../../../Redux/Store'\n\nimport BluePrintList from './BluePrintList'\nimport MainControls from './MainControls'\nimport Wrapper from './Wrapper'\n\ntype BluePrintState = { [id: string]: types.IBluePrint }\ntype Action = { type: string; payload?: any }\n\nconst initialStateFromTiles = (tiles: types.IBluePrint[]) =>\n  tiles.reduce<BluePrintState>((acc, tile) => {\n    const id = tile.id || shortid.generate()\n    return { ...acc, [id]: { ...tile, id } }\n  }, {})\n\nconst bluePrintReducer = (\n  state: BluePrintState,\n  action: Action\n): BluePrintState => {\n  switch (action.type) {\n    case 'ADD': {\n      const id = shortid.generate()\n      return {\n        ...state,\n        [id]: {\n          id,\n          type: 'Gem',\n          operation: 'ANY',\n        },\n      }\n    }\n\n    case 'UPDATE': {\n      const blueprint = action.payload\n\n      return { ...state, [blueprint.id]: { ...blueprint } }\n    }\n\n    case 'DELETE': {\n      const { id } = action.payload\n      const { [id]: blueprint, ...rest } = state\n\n      return { ...rest }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({})\n\nconst mapDispatchToProps = {\n  cancelEdit: actions.Settings.SupplySetups.cancelEdit,\n  saveCustomSetup: actions.Settings.SupplySetups.saveCustomSetup,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    setup: types.IMarketSetup\n  }\n\nconst CustomSetupEdit = React.memo(\n  ({ setup, cancelEdit, saveCustomSetup }: Props) => {\n    const [setupName, setSetupName] = useState(setup.name || '')\n    const [bluePrints, dispatch] = useReducer(\n      bluePrintReducer,\n      setup.tiles,\n      initialStateFromTiles\n    )\n    const bluePrintList = Object.values(bluePrints).reverse()\n\n    return (\n      <Wrapper>\n        <MainControls\n          bluePrintList={bluePrintList}\n          cancelEdit={cancelEdit}\n          setup={setup}\n          setupName={setupName}\n          setSetupName={setSetupName}\n          saveCustomSetup={saveCustomSetup}\n        />\n        <BluePrintList bluePrintList={bluePrintList} dispatch={dispatch} />\n      </Wrapper>\n    )\n  }\n)\n\nCustomSetupEdit.displayName = 'CustomSetupEdit'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CustomSetupEdit)\n","import styled from 'styled-components'\n\nconst CheckboxWithPreviewControls = styled('div')`\n  float: right;\n`\n\nexport default CheckboxWithPreviewControls\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport IconButton from '@material-ui/core/IconButton'\nimport EditIcon from '@material-ui/icons/Edit'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport Button from '@material-ui/core/Button'\n\nimport CheckboxList from '../../../CheckboxList'\nimport CheckboxWithPreview from './CheckboxWithPreview'\nimport CustomSetupEdit from './CustomSetupEdit'\n\nimport { RootState, actions, selectors } from '../../../../Redux/Store'\nimport CheckboxWithPreviewControls from './CheckboxWithPreviewControls'\n\nconst mapStateToProps = (state: RootState) => ({\n  customSetups: selectors.Settings.SupplySetups.getCustomAsArray(state),\n})\n\nconst mapDispatchToProps = {\n  toggleSetup: actions.Settings.SupplySetups.toggleSetup,\n  createSetup: actions.Settings.SupplySetups.createCustomSetup,\n  editSetup: actions.Settings.SupplySetups.editCustomSetup,\n  deleteSetup: actions.Settings.SupplySetups.deleteCustomSetup,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst CustomSetups = React.memo(\n  ({\n    customSetups,\n    createSetup,\n    toggleSetup,\n    editSetup,\n    deleteSetup,\n  }: Props) => {\n    const customItems = customSetups.map(setup => ({\n      name: setup.id,\n      label: setup.name,\n      checked: setup.active,\n      setup: setup,\n    }))\n\n    return (\n      <CheckboxList\n        label=\"Custom Setups\"\n        changeHandler={item => toggleSetup(item, 'Custom')}\n        items={customItems}\n        Component={({ checked, item, label, changeHandler, ...rest }) => {\n          const setup = customSetups.find(setup => setup.id === item)\n\n          if (!setup) return null\n\n          if (setup.isDirty) {\n            return <CustomSetupEdit setup={setup} />\n          }\n\n          return (\n            <CheckboxWithPreview\n              changeHandler={changeHandler}\n              checked={checked}\n              item={item}\n              label={label}\n              setup={setup}\n            >\n              <CheckboxWithPreviewControls>\n                <IconButton\n                  color=\"primary\"\n                  aria-label=\"Edit\"\n                  onClick={() => editSetup(setup.id)}\n                >\n                  <EditIcon />\n                </IconButton>\n                <IconButton\n                  color=\"secondary\"\n                  aria-label=\"Delete\"\n                  onClick={() => deleteSetup(setup.id)}\n                >\n                  <DeleteIcon />\n                </IconButton>\n              </CheckboxWithPreviewControls>\n            </CheckboxWithPreview>\n          )\n        }}\n      >\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          style={{ marginTop: '16px' }}\n          onClick={() => createSetup()}\n        >\n          Add\n        </Button>\n      </CheckboxList>\n    )\n  }\n)\n\nCustomSetups.displayName = 'CustomSetups'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CustomSetups)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport CheckboxList from '../../../CheckboxList'\nimport CheckboxWithPreview from './CheckboxWithPreview'\n\nimport { RootState, actions, selectors } from '../../../../Redux/Store'\n\nconst mapStateToProps = (state: RootState) => ({\n  predefinedSetups: selectors.Settings.SupplySetups.getPredefinedAsArray(state),\n})\n\nconst mapDispatchToProps = {\n  toggleSetup: actions.Settings.SupplySetups.toggleSetup,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst PredefinedSetups = React.memo(\n  ({ predefinedSetups, toggleSetup }: Props) => {\n    const predefinedItems = predefinedSetups.map(setup => ({\n      name: setup.id,\n      label: setup.name,\n      checked: setup.active,\n      setup: setup,\n    }))\n\n    return (\n      <CheckboxList\n        label=\"Predefined Setups\"\n        changeHandler={item => toggleSetup(item, 'Predefined')}\n        items={predefinedItems}\n        Component={({ checked, item, label, changeHandler, ...rest }) => {\n          const setup = predefinedSetups.find(setup => setup.id === item)\n          return (\n            <CheckboxWithPreview\n              changeHandler={changeHandler}\n              checked={checked}\n              item={item}\n              label={label}\n              setup={setup}\n            />\n          )\n        }}\n      />\n    )\n  }\n)\n\nPredefinedSetups.displayName = 'PredefinedSetups'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PredefinedSetups)\n","import styled from 'styled-components'\nimport FormControl from '@material-ui/core/FormControl'\n\nconst SetupSelectionWrapper = styled(FormControl)`\n  width: 100%;\n`\n\nexport default SetupSelectionWrapper\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport Checkbox from '@material-ui/core/Checkbox'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormLabel from '@material-ui/core/FormLabel'\n\nimport { RootState, actions, selectors } from '../../../../Redux/Store'\n\nimport CustomSetups from './CustomSetups'\nimport PredefinedSetups from './PredefinedSetups'\nimport SetupSelectionWrapper from './SetupSelectionWrapper'\n\nconst mapStateToProps = (state: RootState) => ({\n  allSetsSelected: selectors.Settings.SupplySetups.getAllSetsSelected(state),\n})\n\nconst mapDispatchToProps = {\n  toggleAll: actions.Settings.SupplySetups.toggleAll,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst SetupSelection = React.memo(({ allSetsSelected, toggleAll }: Props) => {\n  return (\n    <SetupSelectionWrapper component={'fieldset' as 'div'}>\n      <FormLabel />\n      <FormGroup>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={allSetsSelected}\n              onChange={toggleAll}\n              value={allSetsSelected ? 'Deselect All' : 'Select All'}\n            />\n          }\n          label={allSetsSelected ? 'Deselect All' : 'Select All'}\n        />\n      </FormGroup>\n      <CustomSetups />\n      <PredefinedSetups />\n    </SetupSelectionWrapper>\n  )\n})\n\nSetupSelection.displayName = 'SetupSelection'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SetupSelection)\n","import React from 'react'\n\nimport ExpansionPanel from '../../../ExpansionPanel'\nimport useExpansionHandling from '../../../../hooks/useExpansionHandling'\n\nimport SetupSelection from './SetupSelection'\n\ntype Props = {}\n\nconst Supply = React.memo(() => {\n  const { expanded, createExpansionHandler } = useExpansionHandling()\n  const expansionKey = 'supplySets'\n  const expansionHandler = createExpansionHandler(expansionKey)\n\n  return (\n    <ExpansionPanel\n      expanded={expanded}\n      expansionHandler={expansionHandler}\n      expansionKey={expansionKey}\n      summary=\"Supply Setups\"\n    >\n      <SetupSelection />\n    </ExpansionPanel>\n  )\n})\n\nSupply.displayName = 'Supply'\n\nexport default Supply\n","import React from 'react'\n\nimport Expansions from './Expansions'\nimport Supply from './Supply'\n\ntype Props = {}\n\nconst Settings = React.memo(() => (\n  <React.Fragment>\n    <Expansions />\n    <Supply />\n  </React.Fragment>\n))\n\nSettings.displayName = 'Settings'\n\nexport default Settings\n","import styled from 'styled-components/macro'\nimport MuiTableCell from '@material-ui/core/TableCell'\n\nconst Cell = styled(MuiTableCell)`\n  padding: 4px 8px;\n\n  &:first-child {\n    padding-left: 16px;\n  }\n\n  &:last-child {\n    padding-right: 8px;\n  }\n`\n\nCell.displayName = 'Cell'\n\nexport default Cell\n","import styled from 'styled-components/macro'\nimport MuiTableRow from '@material-ui/core/TableRow'\n\nimport { TurnOrderCardType } from '../../../../types'\nimport { TurnOrderColors } from '../../../../mainTheme'\n\ntype Props = {\n  type: TurnOrderCardType\n}\n\nconst getTurnOrderCardStyles = (\n  turnOrderCardColors: TurnOrderColors,\n  type: TurnOrderCardType\n) => {\n  if (!turnOrderCardColors[type]) {\n    return `\n      background: #fff;\n      &:first-child {\n        background: #fff;\n      }\n    `\n  }\n\n  return `\n    background: ${turnOrderCardColors[type].light};\n    &:first-child {\n      background: ${turnOrderCardColors[type].normal};\n    }\n  `\n}\n\nconst RowWrapper = styled(MuiTableRow)<Props>`\n  ${props =>\n    getTurnOrderCardStyles(props.theme.colors.turnOrderCards, props.type)}\n\n  &:first-child {\n    & * {\n      color: #fff;\n    }\n  }\n\n  & td {\n    border-bottom: 4px solid #fafafa;\n  }\n`\n\nexport default RowWrapper\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport IconButton from '@material-ui/core/IconButton'\nimport Typography from '@material-ui/core/Typography'\nimport { Loop, Publish, GetApp } from '@material-ui/icons'\n\nimport { ITurnOrderCard } from '../../../../types'\nimport { RootState, actions } from '../../../../Redux/Store'\n\nimport Cell from './Cell'\nimport RowWrapper from './RowWrapper'\n\nconst mapStateToProps = (state: RootState) => ({})\n\nconst mapDispatchToProps = {\n  addToTop: actions.TurnOrder.ActiveGame.addToTop,\n  addToBottom: actions.TurnOrder.ActiveGame.addToBottom,\n  shuffleIntoDeck: actions.TurnOrder.ActiveGame.shuffleIntoDeck,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    card: ITurnOrderCard\n  }\n\nconst Row = React.memo(\n  ({ card, addToTop, addToBottom, shuffleIntoDeck }: Props) => (\n    <RowWrapper type={card.type}>\n      <Cell>\n        <Typography component=\"p\">{card.name}</Typography>\n      </Cell>\n      <Cell align=\"right\">\n        <IconButton\n          aria-label=\"Add to top\"\n          title=\"Add to top\"\n          onClick={() => addToTop(card.id)}\n        >\n          <Publish fontSize=\"small\" />\n        </IconButton>\n      </Cell>\n      <Cell align=\"right\">\n        <IconButton\n          aria-label=\"Add to bottom\"\n          title=\"Add to bottom\"\n          onClick={() => addToBottom(card.id)}\n        >\n          <GetApp fontSize=\"small\" />\n        </IconButton>\n      </Cell>\n      <Cell align=\"right\">\n        <IconButton\n          aria-label=\"Shuffle into Turn Order Deck\"\n          title=\"Shuffle into Turn Order Deck\"\n          onClick={() => shuffleIntoDeck(card.id)}\n        >\n          <Loop fontSize=\"small\" />\n        </IconButton>\n      </Cell>\n    </RowWrapper>\n  )\n)\n\nRow.displayName = 'Row'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Row)\n","import styled from 'styled-components/macro'\nimport MuiTable from '@material-ui/core/Table'\n\nconst Table = styled(MuiTable)`\n  margin-top: 24px;\n  border-collapse: collapse;\n`\n\nexport default Table\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport TableBody from '@material-ui/core/TableBody'\n\nimport { ITurnOrderCard } from '../../../../types'\nimport { RootState, selectors } from '../../../../Redux/Store'\n\nimport Row from './Row'\nimport Table from './Table'\n\nconst renderRows = (discard: ITurnOrderCard[]) =>\n  discard.map((card, i) => <Row key={i} card={card} />)\n\nconst mapStateToProps = (state: RootState) => ({\n  discard: selectors.TurnOrder.ActiveGame.getDiscard(state),\n})\n\nconst mapDispatchToProps = {}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst DiscardTable = React.memo(({ discard }: Props) => (\n  <Table>\n    <TableBody>{renderRows(discard)}</TableBody>\n  </Table>\n))\n\nDiscardTable.displayName = 'DiscardTable'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DiscardTable)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport Button from '@material-ui/core/Button'\n\nimport { RootState, selectors, actions } from '../../../Redux/Store'\n\nimport ShuffleButton from '../../ShuffleButton'\n\nimport DiscardTable from './DiscardTable'\n\nconst mapStateToProps = (state: RootState) => ({\n  deck: selectors.TurnOrder.ActiveGame.getDeck(state),\n  availableCards: selectors.TurnOrder.Configuration.getAvailableCards(state),\n})\n\nconst mapDispatchToProps = {\n  resetGame: actions.TurnOrder.ActiveGame.resetGame,\n  drawCard: actions.TurnOrder.ActiveGame.draw,\n  newRound: actions.TurnOrder.ActiveGame.newRound,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst ActiveTurnOrder = React.memo(\n  ({ availableCards, deck, resetGame, newRound, drawCard }: Props) => (\n    <React.Fragment>\n      {deck.length === 0 ? (\n        <Button\n          size=\"large\"\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={() => newRound(availableCards)}\n        >\n          New Round\n        </Button>\n      ) : (\n        <Button\n          size=\"large\"\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={drawCard}\n        >\n          Draw a card\n        </Button>\n      )}\n\n      <DiscardTable />\n\n      <ShuffleButton color=\"primary\" variant=\"extended\" onClick={resetGame}>\n        Reset Game\n      </ShuffleButton>\n    </React.Fragment>\n  )\n)\n\nActiveTurnOrder.displayName = 'ActiveTurnOrder'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ActiveTurnOrder)\n","import styled from 'styled-components/macro'\nimport MuiCard from '@material-ui/core/Card'\n\nconst Card = styled(MuiCard)`\n  margin-top: 24px;\n`\n\nexport default Card\n","import React from 'react'\n\nimport Typography from '@material-ui/core/Typography'\nimport CardContent from '@material-ui/core/CardContent'\n\nimport { ITurnOrderSetup } from '../../../types'\n\nimport Card from './Card'\n\nconst renderCardNames = (turnOrderSetup: ITurnOrderSetup) =>\n  turnOrderSetup.turnOrderCards.map((card, i) => (\n    <Typography component=\"p\" key={i}>\n      {card.name}\n    </Typography>\n  ))\n\ntype Props = {\n  turnOrderSetup: ITurnOrderSetup\n}\n\nconst CardNameDisplay = React.memo(({ turnOrderSetup }: Props) => (\n  <Card>\n    <CardContent>\n      <Typography color=\"textSecondary\" gutterBottom>\n        Turn order cards\n      </Typography>\n      {renderCardNames(turnOrderSetup)}\n    </CardContent>\n  </Card>\n))\n\nCardNameDisplay.displayName = 'CardNameDisplay'\n\nexport default CardNameDisplay\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport CardContent from '@material-ui/core/CardContent'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\n\nimport { MODES } from '../../../types'\nimport { RootState, actions, selectors } from '../../../Redux/Store'\n\nimport Card from './Card'\n\nconst renderModeOptions = () =>\n  MODES.map(mode => (\n    <FormControlLabel\n      key={mode}\n      value={mode}\n      control={<Radio />}\n      label={mode}\n    />\n  ))\n\nconst mapStateToProps = (state: RootState) => ({\n  mode: selectors.TurnOrder.Configuration.getMode(state),\n})\n\nconst mapDispatchToProps = {\n  setMode: actions.TurnOrder.Configuration.setMode,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst ModeSelection = React.memo(({ mode, setMode }: Props) => (\n  <Card>\n    <CardContent>\n      <FormLabel>Mode</FormLabel>\n      <RadioGroup\n        aria-label=\"mode\"\n        name=\"turnOrderMode\"\n        value={mode}\n        onChange={(event: React.ChangeEvent<any>) =>\n          setMode(event.currentTarget.value)\n        }\n      >\n        {renderModeOptions()}\n      </RadioGroup>\n    </CardContent>\n  </Card>\n))\n\nModeSelection.displayName = 'ModeSelection'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ModeSelection)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\n\nimport config from '../../../config'\nimport { RootState, actions, selectors } from '../../../Redux/Store'\n\nconst renderPlayerCountOptions = () =>\n  Object.values(config.TURNORDERSETUPS).map(playerCount => (\n    <FormControlLabel\n      key={playerCount.id}\n      value={playerCount.id}\n      control={<Radio />}\n      label={playerCount.name}\n    />\n  ))\n\nconst mapStateToProps = (state: RootState) => ({\n  selectedPlayerCount: selectors.TurnOrder.Configuration.getSelectedPlayerCount(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  selectPlayerCount: actions.TurnOrder.Configuration.selectPlayerCount,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst PlayerCountSelection = React.memo(\n  ({ selectPlayerCount, selectedPlayerCount }: Props) => (\n    <Card>\n      <CardContent>\n        <FormControl component={'fieldset' as 'div'}>\n          <FormLabel>Amount of Players</FormLabel>\n          <RadioGroup\n            aria-label=\"Players\"\n            name=\"turnOrderPlayerCountOptions\"\n            value={selectedPlayerCount.id}\n            onChange={(event: React.ChangeEvent<any>) => {\n              selectPlayerCount(event.currentTarget.value)\n            }}\n            row={true}\n          >\n            {renderPlayerCountOptions()}\n          </RadioGroup>\n        </FormControl>\n      </CardContent>\n    </Card>\n  )\n)\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PlayerCountSelection)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport CardContent from '@material-ui/core/CardContent'\nimport FormControl from '@material-ui/core/FormControl'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\n\nimport config from '../../../config'\nimport { ITurnOrderPlayerCount } from '../../../types'\nimport { RootState, actions, selectors } from '../../../Redux/Store'\n\nimport Card from './Card'\n\nconst renderSetupOptions = (selectedPlayerCount: ITurnOrderPlayerCount) =>\n  Object.values(config.TURNORDERSETUPS[selectedPlayerCount.id].variations).map(\n    setup => (\n      <FormControlLabel\n        key={setup.id}\n        value={setup.id}\n        control={<Radio />}\n        label={setup.name}\n      />\n    )\n  )\n\nconst mapStateToProps = (state: RootState) => ({\n  selectedPlayerCount: selectors.TurnOrder.Configuration.getSelectedPlayerCount(\n    state\n  ),\n  selectedSetup: selectors.TurnOrder.Configuration.getSelectedSetup(state),\n})\n\nconst mapDispatchToProps = {\n  selectSetup: actions.TurnOrder.Configuration.selectSetup,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst SetupSelection = React.memo(\n  ({ selectSetup, selectedSetup, selectedPlayerCount }: Props) => (\n    <Card>\n      <CardContent>\n        <FormControl component={'fieldset' as 'div'}>\n          <FormLabel>Player Cards Variants</FormLabel>\n          <RadioGroup\n            aria-label=\"Players Variant\"\n            name=\"turnOrderOptions\"\n            value={selectedSetup.id}\n            onChange={(event: React.ChangeEvent<any>) => {\n              selectSetup(event.currentTarget.value)\n            }}\n          >\n            {renderSetupOptions(selectedPlayerCount)}\n          </RadioGroup>\n        </FormControl>\n      </CardContent>\n    </Card>\n  )\n)\n\nSetupSelection.displayName = 'SetupSelection'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SetupSelection)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, actions, selectors } from '../../../Redux/Store'\n\nimport ShuffleButton from '../../ShuffleButton'\nimport CardNameDisplay from './CardNameDisplay'\nimport ModeSelection from './ModeSelection'\nimport PlayerCountSelection from './PlayerCountSelection'\nimport SetupSelection from './SetupSelection'\n\nconst mapStateToProps = (state: RootState) => ({\n  currentConfiguration: selectors.TurnOrder.Configuration.getConfiguration(\n    state\n  ),\n  selectedPlayerCount: selectors.TurnOrder.Configuration.getSelectedPlayerCount(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  startGame: actions.TurnOrder.ActiveGame.startGame,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst TurnOrderConfiguration = React.memo(\n  ({ currentConfiguration, startGame, selectedPlayerCount }: Props) => {\n    const availableVariations = Object.keys(selectedPlayerCount.variations).map(\n      key => [selectedPlayerCount.variations[key]]\n    )\n\n    const hasMoreThanOneVariant: boolean = availableVariations.length > 1\n\n    return (\n      <React.Fragment>\n        <PlayerCountSelection />\n        {hasMoreThanOneVariant ? <SetupSelection /> : null}\n        <ModeSelection />\n        <CardNameDisplay turnOrderSetup={currentConfiguration} />\n        <ShuffleButton\n          color=\"primary\"\n          variant=\"extended\"\n          onClick={() => startGame(currentConfiguration.turnOrderCards)}\n        >\n          Start Game\n        </ShuffleButton>\n      </React.Fragment>\n    )\n  }\n)\n\nTurnOrderConfiguration.displayName = 'TurnOrderConfiguration'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TurnOrderConfiguration)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, selectors } from '../../../Redux/Store'\n\nimport ActiveGame from './ActiveGame'\nimport TurnOrderConfiguration from './TurnOrderConfiguration'\n\nconst mapStateToProps = (state: RootState) => ({\n  gameHasStarted: selectors.TurnOrder.ActiveGame.getHasStarted(state),\n})\n\nconst mapDispatchToProps = {}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    gameHasStarted: boolean\n  }\n\nconst TurnOrder = React.memo(({ gameHasStarted }: Props) => (\n  <React.Fragment>\n    {gameHasStarted ? <ActiveGame /> : <TurnOrderConfiguration />}\n  </React.Fragment>\n))\n\nTurnOrder.displayName = 'TurnOrder'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TurnOrder)\n","import styled from 'styled-components/macro'\n\nconst HeaderPlaceholder = styled('div')`\n  display: flex;\n  align-items: center;\n  padding: 0 8px;\n  justify-content: flex-end;\n\n  min-height: 56px;\n\n  @media (min-width: 0px) and (orientation: landscape) {\n    min-height: 48px;\n  }\n\n  @media (min-width: 600px) {\n    min-height: 64px;\n  }\n`\n\nexport default HeaderPlaceholder\n","import styled, { css } from 'styled-components/macro'\n\ntype Props = {\n  drawerIsOpen: boolean\n  isLoading: boolean\n}\n\nconst openDrawerMixin = css`\n  margin-left: 0;\n  transition: ${props => props.theme.muiTransitions.contentShift};\n`\n\nconst Wrapper = styled('div')<Props>`\n  flex-grow: 1;\n  padding: ${props => props.theme.spacing.unit * 3}px;\n  margin-left: -${props => props.theme.drawerWidth}px;\n  transition: ${props => props.theme.muiTransitions.content};\n\n  ${props => (props.drawerIsOpen ? openDrawerMixin : '')}\n\n  ${props =>\n    props.isLoading\n      ? `\n      text-align: center;\n      padding-top: 150px;\n    `\n      : ''}\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nimport Nemeses from '../pages/Nemeses'\nimport Mages from '../pages/Mages'\nimport Supply from '../pages/Supply'\nimport Settings from '../pages/Settings'\nimport TurnOrder from '../pages/TurnOrder'\n\nimport { ROUTES } from '../../routes'\nimport HeaderPlaceholder from './HeaderPlaceholder'\nimport Wrapper from './Wrapper'\n\ntype Props = {\n  route: string\n  isLoading: boolean\n  drawerIsOpen: boolean\n}\n\nconst Content = React.memo(({ route, isLoading, drawerIsOpen }: Props) => (\n  <Wrapper isLoading={isLoading} drawerIsOpen={drawerIsOpen}>\n    <HeaderPlaceholder />\n    {isLoading ? (\n      <CircularProgress />\n    ) : (\n      {\n        [ROUTES.nemeses]: <Nemeses />,\n        [ROUTES.mages]: <Mages />,\n        [ROUTES.supply]: <Supply />,\n        [ROUTES.turnOrder]: <TurnOrder />,\n        [ROUTES.settings]: <Settings />,\n      }[route]\n    )}\n  </Wrapper>\n))\n\nContent.displayName = 'Content'\n\nexport default Content\n","import styled from 'styled-components/macro'\n\nimport Typography from '@material-ui/core/Typography'\n\nconst Title = styled(Typography)``\n\nexport default Title\n","import React from 'react'\nimport styled, { css } from 'styled-components/macro'\nimport MuiAppBar from '@material-ui/core/AppBar'\n\ntype Props = {\n  drawerIsOpen: boolean\n}\n\nconst openDrawerMixin = css`\n  width: calc(100% - ${props => props.theme.drawerWidth}px);\n  margin-left: ${props => props.theme.drawerWidth}px;\n  transition: ${props => props.theme.muiTransitions.appBarShift};\n`\n\n// eslint-disable-next-line no-unexpected-multiline\nconst AppBar = styled(({ drawerIsOpen, ...rest }) => <MuiAppBar {...rest} />)<\n  Props\n>`\n  position: fixed;\n\n  ${props => (props.drawerIsOpen ? openDrawerMixin : '')}\n`\n\nexport default AppBar\n","import React from 'react'\nimport styled from 'styled-components/macro'\nimport MuiIconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\n\ntype WrapperProps = {\n  drawerIsOpen: boolean\n}\n\nconst Wrapper = styled('div')<WrapperProps>`\n  margin-left: 12px;\n  margin-right: 20px;\n\n  color: #fff;\n\n  ${props => (props.drawerIsOpen ? `display: none;` : '')}\n`\n\nconst IconButton = styled(MuiIconButton)`\n  color: #fff;\n`\n\ntype Props = {\n  drawerIsOpen: boolean\n  onClick: () => void\n}\n\nconst MenuButton = ({ drawerIsOpen, onClick }: Props) => (\n  <Wrapper drawerIsOpen={drawerIsOpen}>\n    <IconButton aria-label=\"Menu\" onClick={onClick}>\n      <MenuIcon />\n    </IconButton>\n  </Wrapper>\n)\n\nexport default MenuButton\n","import React from 'react'\n\nimport Toolbar from '@material-ui/core/Toolbar'\n\nimport Title from './Title'\nimport AppBar from './AppBar'\nimport MenuButton from './MenuButton'\n\ntype Props = {\n  drawerIsOpen: boolean\n  currentLocation: string\n  toggleDrawer: () => void\n}\n\nconst TopBar = React.memo(\n  ({ drawerIsOpen, currentLocation, toggleDrawer }: Props) => (\n    <AppBar drawerIsOpen={drawerIsOpen}>\n      <Toolbar disableGutters={!drawerIsOpen}>\n        <MenuButton drawerIsOpen={drawerIsOpen} onClick={toggleDrawer} />\n        <Title variant=\"h6\" color=\"inherit\">\n          {currentLocation}\n        </Title>\n      </Toolbar>\n    </AppBar>\n  )\n)\n\nTopBar.displayName = 'TopBar'\n\nexport default TopBar\n","import React from 'react'\n\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\n\ntype Props = {\n  route: string\n  clickhandler: (route: string) => any\n  children: any\n}\n\nconst RouteItem = React.memo(({ route, clickhandler, children }: Props) => (\n  <ListItem button key={route} onClick={() => clickhandler(route)}>\n    <ListItemIcon>{children}</ListItemIcon>\n    <ListItemText primary={route} />\n  </ListItem>\n))\n\nRouteItem.displayName = 'RouteItem'\n\nexport default RouteItem\n","import React from 'react'\n\nimport BuildIcon from '@material-ui/icons/Build'\nimport List from '@material-ui/core/List'\n\nimport { ROUTES } from '../routes'\nimport RouteItem from './RouteItem'\n\ntype Props = {\n  locationhandler: (route: string) => void\n}\n\nconst Routes = React.memo(({ locationhandler }: Props) => (\n  <List>\n    <RouteItem route={ROUTES.nemeses} clickhandler={locationhandler}>\n      <i className=\"ra ra-lg ra-broken-skull\" />\n    </RouteItem>\n    <RouteItem route={ROUTES.mages} clickhandler={locationhandler}>\n      <i className=\"ra ra-lg ra-crystal-wand\" />\n    </RouteItem>\n    <RouteItem route={ROUTES.supply} clickhandler={locationhandler}>\n      <i className=\"ra ra-lg ra-campfire\" />\n    </RouteItem>\n    <RouteItem route={ROUTES.turnOrder} clickhandler={locationhandler}>\n      <i className=\"ra ra-lg ra-player-lift\" />\n    </RouteItem>\n    <RouteItem route={ROUTES.settings} clickhandler={locationhandler}>\n      <BuildIcon\n        style={{\n          width: '0.9em',\n        }}\n      />\n    </RouteItem>\n  </List>\n))\n\nRoutes.displayName = 'Routes'\n\nexport default Routes\n","import styled from 'styled-components/macro'\n\nconst Header = styled('div')`\n  display: flex;\n  align-items: center;\n  padding: 0 8px;\n  justify-content: flex-end;\n\n  min-height: 56px;\n\n  @media (min-width: 0px) and (orientation: landscape) {\n    min-height: 48px;\n  }\n\n  @media (min-width: 600px) {\n    min-height: 64px;\n  }\n`\n\nexport default Header\n","import styled from 'styled-components/macro'\nimport Typography from '@material-ui/core/Typography'\n\nconst AppInfo = styled(Typography)`\n  margin: ${props => props.theme.spacing.unit * 2}px;\n`\n\nexport default AppInfo\n","import styled from 'styled-components/macro'\nimport Link from '@material-ui/core/Link'\n\nconst GithHubLink = styled(Link)`\n  display: block;\n  line-height: 24px;\n  margin-top: ${props => props.theme.spacing.unit * 2}px;\n`\n\nexport default GithHubLink\n","import styled from 'styled-components/macro'\n\nconst GitHubLogo = styled('img')`\n  width: 24px;\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: ${props => props.theme.spacing.unit}px;\n`\n\nexport default GitHubLogo\n","import styled from 'styled-components/macro'\nimport MuiDrawer from '@material-ui/core/Drawer'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst Drawer = styled(MuiDrawer)`\n  width: 240px;\n  flex-shrink: 0;\n`\n\n// FIXME remove withStyles call\nexport default withStyles({\n  paper: {\n    width: 240,\n  },\n})(Drawer)\n","import React from 'react'\n\nimport Divider from '@material-ui/core/Divider'\nimport IconButton from '@material-ui/core/IconButton'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\n\nimport Routes from '../Routes'\nimport Header from './Header'\nimport AppInfo from './AppInfo'\nimport GitHubLink from './GitHubLink'\nimport GitHubLogo from './GitHubLogo'\nimport Drawer from './Drawer'\n\ntype Props = {\n  drawerIsOpen: boolean\n  toggleDrawer: () => void\n  moveTo: (route: string) => void\n}\n\nconst DrawerMenu = React.memo(\n  ({ drawerIsOpen, toggleDrawer, moveTo }: Props) => (\n    <Drawer\n      open={drawerIsOpen}\n      onClose={toggleDrawer}\n      variant=\"persistent\"\n      anchor=\"left\"\n    >\n      <Header>\n        <IconButton onClick={toggleDrawer}>\n          <ChevronLeftIcon />\n        </IconButton>\n      </Header>\n      <Divider />\n      <Routes locationhandler={moveTo} />\n      <Divider />\n      <AppInfo>\n        Version: {process.env.REACT_APP_VERSION}\n        <GitHubLink\n          href=\"https://github.com/on3iro/aeons-end-randomizer\"\n          color=\"inherit\"\n          target=\"_blank\"\n        >\n          <GitHubLogo src=\"images/github-logo.svg\" alt=\"SVG: Github logo\" />\n          Github\n        </GitHubLink>\n      </AppInfo>\n    </Drawer>\n  )\n)\n\nDrawerMenu.displayName = 'DrawerMenu'\n\nexport default DrawerMenu\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, actions, selectors } from '../../Redux/Store'\n\nimport { ROUTES } from '../../routes'\nimport Content from '../Content'\nimport TopBar from '../TopBar'\nimport DrawerMenu from '../DrawerMenu'\n\nconst mapStateToProps = (state: RootState) => ({\n  isLoading: selectors.Main.ContentLoading.getIsLoading(state),\n})\n\nconst mapDispatchToProps = {\n  getUserConfiguration: actions.Main.getUserConfiguration,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    isLoading: boolean\n  }\n\nconst MainApp = ({ getUserConfiguration, isLoading }: Props) => {\n  const [currentLocation, setCurrentLocation] = useState(ROUTES.nemeses)\n  const moveTo = (route: string) => {\n    toggleDrawer()\n    setCurrentLocation(route)\n  }\n\n  const [drawerIsOpen, setDrawerIsOpen] = useState(false)\n  const toggleDrawer = () => setDrawerIsOpen(!drawerIsOpen)\n\n  useEffect(() => {\n    getUserConfiguration()\n  }, [getUserConfiguration])\n\n  return (\n    <React.Fragment>\n      <TopBar\n        drawerIsOpen={drawerIsOpen}\n        currentLocation={currentLocation}\n        toggleDrawer={toggleDrawer}\n      />\n      <DrawerMenu\n        drawerIsOpen={drawerIsOpen}\n        toggleDrawer={toggleDrawer}\n        moveTo={moveTo}\n      />\n      <Content\n        isLoading={isLoading}\n        route={currentLocation}\n        drawerIsOpen={drawerIsOpen}\n      />\n    </React.Fragment>\n  )\n}\n\nMainApp.displayName = 'MainApp'\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MainApp)\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  height: 100%;\n  display: flex;\n  padding-bottom: 72px;\n`\n\nexport default Wrapper\n","import React from 'react'\nimport { ThemeProvider } from 'styled-components/macro'\n\nimport 'rpg-awesome/css/rpg-awesome.min.css'\n\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\n\nimport { mainTheme, muiTheme } from '../../mainTheme'\n\nimport MainApp from './MainApp'\nimport Wrapper from './Wrapper'\n\ntype Props = { classes: any }\n\nconst App = React.memo(() => (\n  <ThemeProvider theme={mainTheme}>\n    <MuiThemeProvider theme={muiTheme}>\n      <Wrapper>\n        <CssBaseline />\n        <MainApp />\n      </Wrapper>\n    </MuiThemeProvider>\n  </ThemeProvider>\n))\n\nApp.displayName = 'App'\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport JssProvider from 'react-jss/lib/JssProvider'\nimport { create } from 'jss'\nimport { createGenerateClassName, jssPreset } from '@material-ui/core/styles'\n\nimport App from './components/App'\nimport * as serviceWorker from './serviceWorker'\nimport configureStore from './Redux/configureStore'\nimport { initialState } from './Redux/Store'\n\nconst store = configureStore(initialState)\n\nconst generateClassName = createGenerateClassName()\n// @ts-ignore\nconst jss = create({\n  ...jssPreset(),\n  // We define a custom insertion point that JSS will look for injecting the styles in the DOM.\n  insertionPoint: document.getElementById('jss-insertion-point'),\n})\n\nReactDOM.render(\n  <Provider store={store}>\n    <JssProvider jss={jss} generateClassName={generateClassName}>\n      <App />\n    </JssProvider>\n  </Provider>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// @ts-ignore\nserviceWorker.register()\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport { install, StoreCreator } from 'redux-loop'\n\nimport { RootReducer, RootState } from './Store'\n\nconst configureStore = (initialState: RootState) => {\n  // Add middleware to this array if necessary\n  const middleWares: any[] = []\n\n  const enhancers = [applyMiddleware(...middleWares), install<RootState>()]\n\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n    typeof window === 'object' &&\n    // @ts-ignore\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      // @ts-ignore\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      : compose\n\n  const enhancedCreateStore = createStore as StoreCreator\n  const store = enhancedCreateStore(\n    RootReducer,\n    initialState,\n    composeEnhancers(...enhancers)\n  )\n\n  return store\n}\n\nexport { configureStore as default }\n"],"sourceRoot":""}